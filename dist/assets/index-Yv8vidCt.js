import{j as jsxRuntimeExports,c as createTheme,C as Container,B as Box,P as Paper,T as Typography,A as Alert,a as TextField,b as Button,L as Link,d as LinearProgress,e as List,f as ListItem,g as ListItemText,D as Divider,h as _objectWithoutPropertiesLoose,t as toPropertyKey,_ as _extends,u as utils,i as interopRequireDefaultExports,k as Tabs,l as Tab,F as FormControl,I as InputLabel,S as Select,M as MenuItem,m as Dialog,n as DialogTitle,o as DialogContent,p as DialogActions,G as Grid,q as Accordion,s as AccordionSummary,v as AccordionDetails,w as ThemeProvider}from"./ui-CG9UeBTX.js";import{d as reactDomExports,r as reactExports,u as useNavigate,b as React,g as getDefaultExportFromCjs,a as getAugmentedNamespace,N as Navigate,B as BrowserRouter,e as Routes,f as Route}from"./vendor-DCPD9Vl5.js";import{R as ReactCodeMirror,j as javascript$2}from"./editor-C57dcxQD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var client={},m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;const loadUsersFromStorage=()=>{const e=localStorage.getItem("users");return e?new Map(JSON.parse(e)):new Map},saveUsersToStorage=e=>{localStorage.setItem("users",JSON.stringify(Array.from(e.entries())))},mockUserStorage=loadUsersFromStorage();mockUserStorage.has("test@example.com")||(mockUserStorage.set("test@example.com",{password:"password123",user:{id:"1",email:"test@example.com",name:"Test User"}}),saveUsersToStorage(mockUserStorage));const authApi={login:async e=>{const n=loadUsersFromStorage().get(e.email);if(n&&n.password===e.password)return{token:"mock-jwt-token",user:n.user};const s=new Error("ログインに失敗しました。メールアドレスとパスワードを確認してください。");throw s.name="AuthError",s},register:async e=>{const t=loadUsersFromStorage();if(e.email&&e.password.length>=8){if(t.has(e.email)){const i=new Error("このメールアドレスは既に登録されています。");throw i.name="RegisterError",i}const s={id:Date.now().toString(),email:e.email,name:"見習い魔法使い"};return t.set(e.email,{password:e.password,user:s}),saveUsersToStorage(t),{token:"mock-jwt-token",user:s}}const n=new Error("登録に失敗しました。入力内容を確認してください。");throw n.name="RegisterError",n},logout:async()=>Promise.resolve()},AuthContext=reactExports.createContext({user:null,error:null,login:async()=>{},register:async()=>{},logout:async()=>{},clearError:()=>{}}),useAuth=()=>{const e=reactExports.useContext(AuthContext);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},AuthProvider=({children:e})=>{const[t,n]=reactExports.useState(null),[s,i]=reactExports.useState(null),l={user:t,error:s,login:async u=>{try{const d=await authApi.login(u);localStorage.setItem("token",d.token),n(d.user),i(null)}catch(d){throw i("ログインに失敗しました。メールアドレスとパスワードを確認してください。"),d}},register:async(u,d)=>{try{const f=await authApi.register({email:u,password:d});localStorage.setItem("token",f.token),n(f.user),i(null)}catch(f){throw i("登録に失敗しました。入力内容を確認してください。"),f}},logout:async()=>{try{await authApi.logout(),localStorage.removeItem("token"),localStorage.removeItem("gameProgress"),localStorage.removeItem("magicCodeLearning_levelData"),n(null),i(null)}catch(u){throw i("ログアウトに失敗しました。"),u}},clearError:()=>{i(null)}};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:l,children:e})},LevelContext=reactExports.createContext(void 0),calculateExpForNextLevel=e=>Math.floor(100*(e*1.5)),getTitleForLevel=e=>e>=20?"熟練魔法使い":e>=15?"上級魔法使い":e>=10?"中級魔法使い":e>=5?"見習い魔法使い":"魔法見習生",LEVEL_DATA_KEY="magicCodeLearning_levelData",loadLevelData=()=>{const e=localStorage.getItem(LEVEL_DATA_KEY);return e?JSON.parse(e):null},saveLevelData=e=>{localStorage.setItem(LEVEL_DATA_KEY,JSON.stringify(e))},clearLevelData=()=>{localStorage.removeItem(LEVEL_DATA_KEY)},LevelProvider=({children:e})=>{const t=loadLevelData(),[n,s]=reactExports.useState((t==null?void 0:t.currentExp)??0),[i,o]=reactExports.useState((t==null?void 0:t.currentLevel)??1),[r,a]=reactExports.useState((t==null?void 0:t.totalExp)??0),[c,l]=reactExports.useState(calculateExpForNextLevel((t==null?void 0:t.currentLevel)??1)),[u,d]=reactExports.useState(getTitleForLevel((t==null?void 0:t.currentLevel)??1)),f=()=>{if(n>=c){const x=i+1;o(x),s(n-c),l(calculateExpForNextLevel(x)),d(getTitleForLevel(x))}},p=x=>{s(E=>E+x),a(E=>E+x)},h=()=>{clearLevelData(),s(0),o(1),a(0),l(calculateExpForNextLevel(1)),d(getTitleForLevel(1))};return reactExports.useEffect(()=>{saveLevelData({currentExp:n,currentLevel:i,totalExp:r})},[n,i,r]),reactExports.useEffect(()=>{f()},[n]),jsxRuntimeExports.jsx(LevelContext.Provider,{value:{currentExp:n,currentLevel:i,expToNextLevel:c,totalExp:r,addExperience:p,currentTitle:u,resetProgress:h},children:e})},useLevel=()=>{const e=reactExports.useContext(LevelContext);if(e===void 0)throw new Error("useLevelは LevelProvider 内で使用する必要があります");return e},defaultBosses$1={easy:{name:"見習い魔法使いのボス",maxHp:1e3,currentHp:1e3,image:"🧙‍♂️"},medium:{name:"上級魔法使いのボス",maxHp:2e3,currentHp:2e3,image:"🧙‍♀️"},hard:{name:"大魔法使いのボス",maxHp:3e3,currentHp:3e3,image:"🧙‍♂️✨"}},defaultProgress={completedChallenges:[],totalPoints:0,bossesState:defaultBosses$1},ProgressContext=reactExports.createContext(null),useProgress=()=>{const e=reactExports.useContext(ProgressContext);if(!e)throw new Error("useProgress must be used within a ProgressProvider");return e},ProgressProvider=({children:e})=>{const[t,n]=reactExports.useState(()=>{try{const c=localStorage.getItem("gameProgress");if(c){const l=JSON.parse(c);if(l&&Array.isArray(l.completedChallenges)&&typeof l.totalPoints=="number"&&l.bossesState&&["easy","medium","hard"].every(d=>l.bossesState[d]&&typeof l.bossesState[d].maxHp=="number"&&typeof l.bossesState[d].currentHp=="number"&&typeof l.bossesState[d].name=="string"&&typeof l.bossesState[d].image=="string"))return{...l,bossesState:{...l.bossesState,easy:{...defaultBosses$1.easy,...l.bossesState.easy},medium:{...defaultBosses$1.medium,...l.bossesState.medium},hard:{...defaultBosses$1.hard,...l.bossesState.hard}}}}}catch(c){console.error("Failed to parse saved progress:",c)}return defaultProgress});reactExports.useEffect(()=>{try{localStorage.setItem("gameProgress",JSON.stringify(t))}catch(c){console.error("Failed to save progress:",c)}},[t]);const a={progress:t,completeChallenge:c=>{c&&n(l=>l.completedChallenges.includes(c)?l:{...l,completedChallenges:[...l.completedChallenges,c]})},updateBossHp:async(c,l)=>{!c||typeof l!="number"||l<0||n(u=>({...u,bossesState:{...u.bossesState,[c]:{...u.bossesState[c],currentHp:Math.max(0,u.bossesState[c].currentHp-l)}}}))},resetProgress:()=>{n(defaultProgress);try{localStorage.removeItem("gameProgress")}catch(c){console.error("Failed to reset progress:",c)}},resetDifficulty:c=>{c&&n(l=>({...l,bossesState:{...l.bossesState,[c]:defaultBosses$1[c]}}))}};return jsxRuntimeExports.jsx(ProgressContext.Provider,{value:a,children:e})},LearningContext=reactExports.createContext(void 0),LearningProvider=({children:e})=>{const[t,n]=reactExports.useState(null),[s,i]=reactExports.useState(null),[o,r]=reactExports.useState([]),c={explanation:t,setExplanation:n,solution:s,setSolution:i,hintSystem:o,setHintSystem:r,unlockHint:l=>{r(u=>u.map(d=>d.level.toString()===l?{...d,unlocked:!0}:d))}};return jsxRuntimeExports.jsx(LearningContext.Provider,{value:c,children:e})},useLearning=()=>{const e=reactExports.useContext(LearningContext);if(e===void 0)throw new Error("useLearning must be used within a LearningProvider");return e},theme=createTheme({palette:{primary:{main:"#6200EA",light:"#B388FF",dark:"#3700B3"},secondary:{main:"#E8E3F4",light:"#FFFFFF",dark:"#B1AAC4"}},typography:{fontFamily:"Rajdhani, Arial, sans-serif",h1:{background:"linear-gradient(45deg, #B388FF 30%, #6200EA 90%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},components:{MuiButton:{styleOverrides:{root:{background:"linear-gradient(45deg, #6200EA 30%, #B388FF 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(98, 0, 234, .3)",color:"white",padding:"0 30px","&:hover":{background:"linear-gradient(45deg, #B388FF 30%, #6200EA 90%)",boxShadow:"0 3px 5px 2px rgba(179, 136, 255, .3)"}}}}}}),LoginForm=()=>{const e=useNavigate(),{login:t,error:n,clearError:s}=useAuth(),[i,o]=reactExports.useState(""),[r,a]=reactExports.useState(""),[c,l]=reactExports.useState(!1),[u,d]=reactExports.useState({email:"",password:""}),f=()=>{const h={email:"",password:""};let x=!0;return i?/\S+@\S+\.\S+/.test(i)||(h.email="有効なメールアドレスを入力してください",x=!1):(h.email="メールアドレスを入力してください",x=!1),r?r.length<8&&(h.password="パスワードは8文字以上である必要があります",x=!1):(h.password="パスワードを入力してください",x=!1),d(h),x},p=async h=>{if(h.preventDefault(),!c&&f())try{l(!0),s(),await t({email:i,password:r}),e("/game")}catch(x){console.error("Login error:",x)}finally{l(!1)}};return jsxRuntimeExports.jsx(Container,{maxWidth:"sm",children:jsxRuntimeExports.jsx(Box,{sx:{mt:8,mb:4},children:jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:4},children:[jsxRuntimeExports.jsx(Typography,{component:"h1",variant:"h5",align:"center",gutterBottom:!0,children:"ログイン"}),n&&jsxRuntimeExports.jsx(Alert,{severity:"error",sx:{mb:2},children:n}),jsxRuntimeExports.jsxs(Box,{component:"form",onSubmit:p,noValidate:!0,children:[jsxRuntimeExports.jsx(TextField,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"メールアドレス",name:"email",autoComplete:"email",autoFocus:!0,value:i,onChange:h=>o(h.target.value),error:!!u.email,helperText:u.email,disabled:c}),jsxRuntimeExports.jsx(TextField,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"パスワード",type:"password",id:"password",autoComplete:"current-password",value:r,onChange:h=>a(h.target.value),error:!!u.password,helperText:u.password,disabled:c}),jsxRuntimeExports.jsx(Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:c,children:c?"ログイン中...":"ログイン"}),jsxRuntimeExports.jsx(Box,{sx:{textAlign:"center"},children:jsxRuntimeExports.jsx(Link,{component:"button",variant:"body2",onClick:()=>e("/register"),disabled:c,children:"新規登録はこちら"})})]})]})})})},MagicBackground=()=>jsxRuntimeExports.jsx(Box,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",zIndex:-1}}),MagicParticles=()=>jsxRuntimeExports.jsx(Box,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",width:"200vw",height:"200vh",transform:"translate(-50%, -50%)",background:"radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%)",animation:"sparkle 4s ease-in-out infinite"},"@keyframes sparkle":{"0%":{opacity:.3},"50%":{opacity:.7},"100%":{opacity:.3}}}}),LoginPage=()=>jsxRuntimeExports.jsxs(Box,{sx:{position:"relative",minHeight:"100vh"},children:[jsxRuntimeExports.jsx(MagicBackground,{}),jsxRuntimeExports.jsx(MagicParticles,{}),jsxRuntimeExports.jsx(Container,{maxWidth:"sm",sx:{pt:8},children:jsxRuntimeExports.jsx(LoginForm,{})})]}),RegisterForm=()=>{const e=useNavigate(),{register:t}=useAuth(),[n,s]=reactExports.useState(""),[i,o]=reactExports.useState(""),[r,a]=reactExports.useState(""),[c,l]=reactExports.useState(""),u=async d=>{if(d.preventDefault(),l(""),i!==r){l("パスワードが一致しません");return}try{await t(n,i),e("/game")}catch{l("登録に失敗しました")}};return jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:4,backgroundColor:"rgba(255, 255, 255, 0.9)"},children:[jsxRuntimeExports.jsx(Typography,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"新規登録"}),c&&jsxRuntimeExports.jsx(Alert,{severity:"error",sx:{mb:2},children:c}),jsxRuntimeExports.jsxs(Box,{component:"form",onSubmit:u,children:[jsxRuntimeExports.jsx(TextField,{fullWidth:!0,label:"メールアドレス",type:"email",value:n,onChange:d=>s(d.target.value),margin:"normal",required:!0}),jsxRuntimeExports.jsx(TextField,{fullWidth:!0,label:"パスワード",type:"password",value:i,onChange:d=>o(d.target.value),margin:"normal",required:!0}),jsxRuntimeExports.jsx(TextField,{fullWidth:!0,label:"パスワード（確認）",type:"password",value:r,onChange:d=>a(d.target.value),margin:"normal",required:!0}),jsxRuntimeExports.jsx(Button,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",sx:{mt:3,mb:2},children:"登録"}),jsxRuntimeExports.jsx(Button,{fullWidth:!0,variant:"text",onClick:()=>e("/login"),children:"ログインページへ"})]})]})},RegisterPage=()=>jsxRuntimeExports.jsxs(Box,{sx:{position:"relative",minHeight:"100vh"},children:[jsxRuntimeExports.jsx(MagicBackground,{}),jsxRuntimeExports.jsx(MagicParticles,{}),jsxRuntimeExports.jsx(Container,{maxWidth:"sm",sx:{pt:8},children:jsxRuntimeExports.jsx(RegisterForm,{})})]}),LevelDisplay=()=>{const{currentExp:e,currentLevel:t,expToNextLevel:n,currentTitle:s}=useLevel(),i=e/n*100;return jsxRuntimeExports.jsxs(Box,{sx:{position:"absolute",top:20,right:20,backgroundColor:"rgba(255, 255, 255, 0.9)",padding:2,borderRadius:2,boxShadow:3,minWidth:200},children:[jsxRuntimeExports.jsxs(Typography,{variant:"h6",gutterBottom:!0,children:["Lv. ",t," - ",s]}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",mb:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{mr:1},children:"EXP:"}),jsxRuntimeExports.jsx(Box,{sx:{width:"100%",mr:1},children:jsxRuntimeExports.jsx(LinearProgress,{variant:"determinate",value:i,sx:{height:10,borderRadius:5,backgroundColor:"rgba(0, 0, 0, 0.1)","& .MuiLinearProgress-bar":{backgroundColor:"#4caf50"}}})}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",sx:{minWidth:60},children:[e,"/",n]})]})]})},executeCode=async(code,input=[],expected,timeoutMs=3e3)=>new Promise(resolve=>{const timeoutId=setTimeout(()=>{resolve({success:!1,message:"❌ 実行時間が長すぎます（制限時間: 3秒）"})},timeoutMs);let errorMessage="";try{const context={},wrappedCode=`
        ${code}
        context.fn = ${code.trim()};
      `;if(eval(wrappedCode),typeof context.fn=="function"){const e=context.fn(...input);let t=!1;Array.isArray(expected)?t=Array.isArray(e)&&e.length===expected.length&&e.every((n,s)=>n===expected[s]):t=e===expected,resolve({success:t,message:t?"✨ テストに成功しました！":`❌ 期待値: ${JSON.stringify(expected)}, 実際の値: ${JSON.stringify(e)}`})}else throw new Error("Function is not properly defined")}catch(e){clearTimeout(timeoutId),e instanceof Error?errorMessage=e.message:errorMessage="An unknown error occurred",resolve({success:!1,message:errorMessage})}}),CodeExplanation=({explanation:e})=>jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,children:"コードの解説"}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",sx:{mt:2,mb:1},children:"行ごとの説明:"}),jsxRuntimeExports.jsx(List,{children:e.lineByLine.map((t,n)=>jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:t})},n))}),jsxRuntimeExports.jsx(Divider,{sx:{my:2}}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",sx:{mb:1},children:"使用される概念:"}),jsxRuntimeExports.jsx(List,{children:e.concepts.map((t,n)=>jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:t})},n))}),jsxRuntimeExports.jsx(Divider,{sx:{my:2}}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",sx:{mb:1},children:"Tips:"}),jsxRuntimeExports.jsx(List,{children:e.tips.map((t,n)=>jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(ListItemText,{primary:`💡 ${t}`})},n))})]});function _objectWithoutProperties(e,t){if(e==null)return{};var n,s,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _defineProperty(e,t,n){return(t=toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(n),!0).forEach(function(s){_defineProperty(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function powerSetPermutations(e){var t=e.length;if(t===0||t===1)return e;if(t===2)return[e[0],e[1],"".concat(e[0],".").concat(e[1]),"".concat(e[1],".").concat(e[0])];if(t===3)return[e[0],e[1],e[2],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0])];if(t>=4)return[e[0],e[1],e[2],e[3],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[2],".").concat(e[3]),"".concat(e[3],".").concat(e[0]),"".concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[0]),"".concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[3],".").concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[2],".").concat(e[1],".").concat(e[0])]}var classNameCombinations={};function getClassNameCombinations(e){if(e.length===0||e.length===1)return e;var t=e.join(".");return classNameCombinations[t]||(classNameCombinations[t]=powerSetPermutations(e)),classNameCombinations[t]}function createStyleObject(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,s=e.filter(function(o){return o!=="token"}),i=getClassNameCombinations(s);return i.reduce(function(o,r){return _objectSpread$1(_objectSpread$1({},o),n[r])},t)}function createClassNameString(e){return e.join(" ")}function createChildren(e,t){var n=0;return function(s){return n+=1,s.map(function(i,o){return createElement({node:i,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(n,"-").concat(o)})})}}function createElement(e){var t=e.node,n=e.stylesheet,s=e.style,i=s===void 0?{}:s,o=e.useInlineStyles,r=e.key,a=t.properties,c=t.type,l=t.tagName,u=t.value;if(c==="text")return u;if(l){var d=createChildren(n,o),f;if(!o)f=_objectSpread$1(_objectSpread$1({},a),{},{className:createClassNameString(a.className)});else{var p=Object.keys(n).reduce(function(y,S){return S.split(".").forEach(function(v){y.includes(v)||y.push(v)}),y},[]),h=a.className&&a.className.includes("token")?["token"]:[],x=a.className&&h.concat(a.className.filter(function(y){return!p.includes(y)}));f=_objectSpread$1(_objectSpread$1({},a),{},{className:createClassNameString(x)||void 0,style:createStyleObject(a.className,Object.assign({},a.style,i),n)})}var E=d(t.children);return React.createElement(l,_extends({key:r},f),E)}}const checkForListedLanguage=function(e,t){var n=e.listLanguages();return n.indexOf(t)!==-1};var _excluded=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(s){_defineProperty(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var newLineRegex=/\n/g;function getNewLines(e){return e.match(newLineRegex)}function getAllLineNumbers(e){var t=e.lines,n=e.startingLineNumber,s=e.style;return t.map(function(i,o){var r=o+n;return React.createElement("span",{key:"line-".concat(o),className:"react-syntax-highlighter-line-number",style:typeof s=="function"?s(r):s},"".concat(r,`
`))})}function AllLineNumbers(e){var t=e.codeString,n=e.codeStyle,s=e.containerStyle,i=s===void 0?{float:"left",paddingRight:"10px"}:s,o=e.numberStyle,r=o===void 0?{}:o,a=e.startingLineNumber;return React.createElement("code",{style:Object.assign({},n,i)},getAllLineNumbers({lines:t.replace(/\n$/,"").split(`
`),style:r,startingLineNumber:a}))}function getEmWidthOfNumber(e){return"".concat(e.toString().length,".25em")}function getInlineLineNumber(e,t){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:t},children:[{type:"text",value:e}]}}function assembleLineNumberStyles(e,t,n){var s={display:"inline-block",minWidth:getEmWidthOfNumber(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},i=typeof e=="function"?e(t):e,o=_objectSpread(_objectSpread({},s),i);return o}function createLineElement(e){var t=e.children,n=e.lineNumber,s=e.lineNumberStyle,i=e.largestLineNumber,o=e.showInlineLineNumbers,r=e.lineProps,a=r===void 0?{}:r,c=e.className,l=c===void 0?[]:c,u=e.showLineNumbers,d=e.wrapLongLines,f=e.wrapLines,p=f===void 0?!1:f,h=p?_objectSpread({},typeof a=="function"?a(n):a):{};if(h.className=h.className?[].concat(_toConsumableArray(h.className.trim().split(/\s+/)),_toConsumableArray(l)):l,n&&o){var x=assembleLineNumberStyles(s,n,i);t.unshift(getInlineLineNumber(n,x))}return d&u&&(h.style=_objectSpread({display:"flex"},h.style)),{type:"element",tagName:"span",properties:h,children:t}}function flattenCodeTree(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],s=0;s<e.length;s++){var i=e[s];if(i.type==="text")n.push(createLineElement({children:[i],className:_toConsumableArray(new Set(t))}));else if(i.children){var o=t.concat(i.properties.className);flattenCodeTree(i.children,o).forEach(function(r){return n.push(r)})}}return n}function processLines(e,t,n,s,i,o,r,a,c){var l,u=flattenCodeTree(e.value),d=[],f=-1,p=0;function h(g,R){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return createLineElement({children:g,lineNumber:R,lineNumberStyle:a,largestLineNumber:r,showInlineLineNumbers:i,lineProps:n,className:M,showLineNumbers:s,wrapLongLines:c,wrapLines:t})}function x(g,R){if(s&&R&&i){var M=assembleLineNumberStyles(a,R,r);g.unshift(getInlineLineNumber(R,M))}return g}function E(g,R){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return t||M.length>0?h(g,R,M):x(g,R)}for(var y=function(){var R=u[p],M=R.children[0].value,j=getNewLines(M);if(j){var I=M.split(`
`);I.forEach(function(F,W){var X=s&&d.length+o,Y={type:"text",value:"".concat(F,`
`)};if(W===0){var ee=u.slice(f+1,p).concat(createLineElement({children:[Y],className:R.properties.className})),z=E(ee,X);d.push(z)}else if(W===I.length-1){var te=u[p+1]&&u[p+1].children&&u[p+1].children[0],$={type:"text",value:"".concat(F)};if(te){var H=createLineElement({children:[$],className:R.properties.className});u.splice(p+1,0,H)}else{var q=[$],K=E(q,X,R.properties.className);d.push(K)}}else{var re=[Y],oe=E(re,X,R.properties.className);d.push(oe)}}),f=p}p++};p<u.length;)y();if(f!==u.length-1){var S=u.slice(f+1,u.length);if(S&&S.length){var v=s&&d.length+o,P=E(S,v);d.push(P)}}return t?d:(l=[]).concat.apply(l,d)}function defaultRenderer(e){var t=e.rows,n=e.stylesheet,s=e.useInlineStyles;return t.map(function(i,o){return createElement({node:i,stylesheet:n,useInlineStyles:s,key:"code-segement".concat(o)})})}function isHighlightJs(e){return e&&typeof e.highlightAuto<"u"}function getCodeTree(e){var t=e.astGenerator,n=e.language,s=e.code,i=e.defaultCodeValue;if(isHighlightJs(t)){var o=checkForListedLanguage(t,n);return n==="text"?{value:i,language:"text"}:o?t.highlight(n,s):t.highlightAuto(s)}try{return n&&n!=="text"?{value:t.highlight(s,n)}:{value:i}}catch{return{value:i}}}function highlight$2(e,t){return function(s){var i=s.language,o=s.children,r=s.style,a=r===void 0?t:r,c=s.customStyle,l=c===void 0?{}:c,u=s.codeTagProps,d=u===void 0?{className:i?"language-".concat(i):void 0,style:_objectSpread(_objectSpread({},a['code[class*="language-"]']),a['code[class*="language-'.concat(i,'"]')])}:u,f=s.useInlineStyles,p=f===void 0?!0:f,h=s.showLineNumbers,x=h===void 0?!1:h,E=s.showInlineLineNumbers,y=E===void 0?!0:E,S=s.startingLineNumber,v=S===void 0?1:S,P=s.lineNumberContainerStyle,g=s.lineNumberStyle,R=g===void 0?{}:g,M=s.wrapLines,j=s.wrapLongLines,I=j===void 0?!1:j,F=s.lineProps,W=F===void 0?{}:F,X=s.renderer,Y=s.PreTag,ee=Y===void 0?"pre":Y,z=s.CodeTag,te=z===void 0?"code":z,$=s.code,H=$===void 0?(Array.isArray(o)?o[0]:o)||"":$,q=s.astGenerator,K=_objectWithoutProperties(s,_excluded);q=q||e;var re=x?React.createElement(AllLineNumbers,{containerStyle:P,codeStyle:d.style||{},numberStyle:R,startingLineNumber:v,codeString:H}):null,oe=a.hljs||a['pre[class*="language-"]']||{backgroundColor:"#fff"},b=isHighlightJs(q)?"hljs":"prismjs",A=p?Object.assign({},K,{style:Object.assign({},oe,l)}):Object.assign({},K,{className:K.className?"".concat(b," ").concat(K.className):b,style:Object.assign({},l)});if(I?d.style=_objectSpread({whiteSpace:"pre-wrap"},d.style):d.style=_objectSpread({whiteSpace:"pre"},d.style),!q)return React.createElement(ee,A,re,React.createElement(te,d,H));(M===void 0&&X||I)&&(M=!0),X=X||defaultRenderer;var D=[{type:"text",value:H}],V=getCodeTree({astGenerator:q,language:i,code:H,defaultCodeValue:D});V.language===null&&(V.value=D);var U=V.value.length;U===1&&V.value[0].type==="text"&&(U=V.value[0].value.split(`
`).length);var Z=U+v,G=processLines(V,M,W,x,y,v,Z,R,I);return React.createElement(ee,A,React.createElement(te,d,!y&&re,X({rows:G,stylesheet:a,useInlineStyles:p})))}}var core$1={};function deepFreeze(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];typeof n=="object"&&!Object.isFrozen(n)&&deepFreeze(n)}),e}var deepFreezeEs6=deepFreeze,_default=deepFreeze;deepFreezeEs6.default=_default;class Response{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function escapeHTML(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function inherit(e,...t){const n=Object.create(null);for(const s in e)n[s]=e[s];return t.forEach(function(s){for(const i in s)n[i]=s[i]}),n}const SPAN_CLOSE="</span>",emitsWrappingTags=e=>!!e.kind;class HTMLRenderer{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=escapeHTML(t)}openNode(t){if(!emitsWrappingTags(t))return;let n=t.kind;t.sublanguage||(n=`${this.classPrefix}${n}`),this.span(n)}closeNode(t){emitsWrappingTags(t)&&(this.buffer+=SPAN_CLOSE)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class TokenTree{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n={kind:t,children:[]};this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(s=>this._walk(t,s)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{TokenTree._collapse(n)}))}}class TokenTreeEmitter extends TokenTree{constructor(t){super(),this.options=t}addKeyword(t,n){t!==""&&(this.openNode(n),this.addText(t),this.closeNode())}addText(t){t!==""&&this.add(t)}addSublanguage(t,n){const s=t.root;s.kind=n,s.sublanguage=!0,this.add(s)}toHTML(){return new HTMLRenderer(this,this.options).value()}finalize(){return!0}}function escape(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function source$1(e){return e?typeof e=="string"?e:e.source:null}function concat$1(...e){return e.map(n=>source$1(n)).join("")}function either(...e){return"("+e.map(n=>source$1(n)).join("|")+")"}function countMatchGroups(e){return new RegExp(e.toString()+"|").exec("").length-1}function startsWith(e,t){const n=e&&e.exec(t);return n&&n.index===0}const BACKREF_RE=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function join(e,t="|"){let n=0;return e.map(s=>{n+=1;const i=n;let o=source$1(s),r="";for(;o.length>0;){const a=BACKREF_RE.exec(o);if(!a){r+=o;break}r+=o.substring(0,a.index),o=o.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?r+="\\"+String(Number(a[1])+i):(r+=a[0],a[0]==="("&&n++)}return r}).map(s=>`(${s})`).join(t)}const MATCH_NOTHING_RE=/\b\B/,IDENT_RE$1="[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",NUMBER_RE="\\b\\d+(\\.\\d+)?",C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",BINARY_NUMBER_RE="\\b(0b[01]+)",RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=concat$1(t,/.*\b/,e.binary,/\b.*/)),inherit({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,s)=>{n.index!==0&&s.ignoreMatch()}},e)},BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[BACKSLASH_ESCAPE]},QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[BACKSLASH_ESCAPE]},PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT=function(e,t,n={}){const s=inherit({className:"comment",begin:e,end:t,contains:[]},n);return s.contains.push(PHRASAL_WORDS_MODE),s.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),s},C_LINE_COMMENT_MODE=COMMENT("//","$"),C_BLOCK_COMMENT_MODE=COMMENT("/\\*","\\*/"),HASH_COMMENT_MODE=COMMENT("#","$"),NUMBER_MODE={className:"number",begin:NUMBER_RE,relevance:0},C_NUMBER_MODE={className:"number",begin:C_NUMBER_RE,relevance:0},BINARY_NUMBER_MODE={className:"number",begin:BINARY_NUMBER_RE,relevance:0},CSS_NUMBER_MODE={className:"number",begin:NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},REGEXP_MODE={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[BACKSLASH_ESCAPE]}]}]},TITLE_MODE={className:"title",begin:IDENT_RE$1,relevance:0},UNDERSCORE_TITLE_MODE={className:"title",begin:UNDERSCORE_IDENT_RE,relevance:0},METHOD_GUARD={begin:"\\.\\s*"+UNDERSCORE_IDENT_RE,relevance:0},END_SAME_AS_BEGIN=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var MODES=Object.freeze({__proto__:null,MATCH_NOTHING_RE,IDENT_RE:IDENT_RE$1,UNDERSCORE_IDENT_RE,NUMBER_RE,C_NUMBER_RE,BINARY_NUMBER_RE,RE_STARTERS_RE,SHEBANG,BACKSLASH_ESCAPE,APOS_STRING_MODE,QUOTE_STRING_MODE,PHRASAL_WORDS_MODE,COMMENT,C_LINE_COMMENT_MODE,C_BLOCK_COMMENT_MODE,HASH_COMMENT_MODE,NUMBER_MODE,C_NUMBER_MODE,BINARY_NUMBER_MODE,CSS_NUMBER_MODE,REGEXP_MODE,TITLE_MODE,UNDERSCORE_TITLE_MODE,METHOD_GUARD,END_SAME_AS_BEGIN});function skipIfhasPrecedingDot(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function beginKeywords(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=skipIfhasPrecedingDot,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function compileIllegal(e,t){Array.isArray(e.illegal)&&(e.illegal=either(...e.illegal))}function compileMatch(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function compileRelevance(e,t){e.relevance===void 0&&(e.relevance=1)}const COMMON_KEYWORDS=["of","and","for","in","not","or","if","then","parent","list","value"],DEFAULT_KEYWORD_CLASSNAME="keyword";function compileKeywords(e,t,n=DEFAULT_KEYWORD_CLASSNAME){const s={};return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(o){Object.assign(s,compileKeywords(e[o],t,o))}),s;function i(o,r){t&&(r=r.map(a=>a.toLowerCase())),r.forEach(function(a){const c=a.split("|");s[c[0]]=[o,scoreForKeyword(c[0],c[1])]})}}function scoreForKeyword(e,t){return t?Number(t):commonKeyword(e)?0:1}function commonKeyword(e){return COMMON_KEYWORDS.includes(e.toLowerCase())}function compileLanguage(e,{plugins:t}){function n(a,c){return new RegExp(source$1(a),"m"+(e.case_insensitive?"i":"")+(c?"g":""))}class s{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(c,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,c]),this.matchAt+=countMatchGroups(c)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const c=this.regexes.map(l=>l[1]);this.matcherRe=n(join(c),!0),this.lastIndex=0}exec(c){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(c);if(!l)return null;const u=l.findIndex((f,p)=>p>0&&f!==void 0),d=this.matchIndexes[u];return l.splice(0,u),Object.assign(l,d)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(c){if(this.multiRegexes[c])return this.multiRegexes[c];const l=new s;return this.rules.slice(c).forEach(([u,d])=>l.addRule(u,d)),l.compile(),this.multiRegexes[c]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(c,l){this.rules.push([c,l]),l.type==="begin"&&this.count++}exec(c){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let u=l.exec(c);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,u=d.exec(c)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function o(a){const c=new i;return a.contains.forEach(l=>c.addRule(l.begin,{rule:l,type:"begin"})),a.terminatorEnd&&c.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&c.addRule(a.illegal,{type:"illegal"}),c}function r(a,c){const l=a;if(a.isCompiled)return l;[compileMatch].forEach(d=>d(a,c)),e.compilerExtensions.forEach(d=>d(a,c)),a.__beforeBegin=null,[beginKeywords,compileIllegal,compileRelevance].forEach(d=>d(a,c)),a.isCompiled=!0;let u=null;if(typeof a.keywords=="object"&&(u=a.keywords.$pattern,delete a.keywords.$pattern),a.keywords&&(a.keywords=compileKeywords(a.keywords,e.case_insensitive)),a.lexemes&&u)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return u=u||a.lexemes||/\w+/,l.keywordPatternRe=n(u,!0),c&&(a.begin||(a.begin=/\B|\b/),l.beginRe=n(a.begin),a.endSameAsBegin&&(a.end=a.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(l.endRe=n(a.end)),l.terminatorEnd=source$1(a.end)||"",a.endsWithParent&&c.terminatorEnd&&(l.terminatorEnd+=(a.end?"|":"")+c.terminatorEnd)),a.illegal&&(l.illegalRe=n(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(d){return expandOrCloneMode(d==="self"?a:d)})),a.contains.forEach(function(d){r(d,l)}),a.starts&&r(a.starts,c),l.matcher=o(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=inherit(e.classNameAliases||{}),r(e)}function dependencyOnParent(e){return e?e.endsWithParent||dependencyOnParent(e.starts):!1}function expandOrCloneMode(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return inherit(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:dependencyOnParent(e)?inherit(e,{starts:e.starts?inherit(e.starts):null}):Object.isFrozen(e)?inherit(e):e}var version="10.7.3";function hasValueOrEmptyAttribute(e){return!!(e||e==="")}function BuildVuePlugin(e){const t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,escapeHTML(this.code);let s={};return this.autoDetect?(s=e.highlightAuto(this.code),this.detectedLanguage=s.language):(s=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),s.value},autoDetect(){return!this.language||hasValueOrEmptyAttribute(this.autodetect)},ignoreIllegals(){return!0}},render(s){return s("pre",{},[s("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:t,VuePlugin:{install(s){s.component("highlightjs",t)}}}}const mergeHTMLPlugin={"after:highlightElement":({el:e,result:t,text:n})=>{const s=nodeStream(e);if(!s.length)return;const i=document.createElement("div");i.innerHTML=t.value,t.value=mergeStreams(s,nodeStream(i),n)}};function tag(e){return e.nodeName.toLowerCase()}function nodeStream(e){const t=[];return function n(s,i){for(let o=s.firstChild;o;o=o.nextSibling)o.nodeType===3?i+=o.nodeValue.length:o.nodeType===1&&(t.push({event:"start",offset:i,node:o}),i=n(o,i),tag(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:i,node:o}));return i}(e,0),t}function mergeStreams(e,t,n){let s=0,i="";const o=[];function r(){return!e.length||!t.length?e.length?e:t:e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:t[0].event==="start"?e:t}function a(u){function d(f){return" "+f.nodeName+'="'+escapeHTML(f.value)+'"'}i+="<"+tag(u)+[].map.call(u.attributes,d).join("")+">"}function c(u){i+="</"+tag(u)+">"}function l(u){(u.event==="start"?a:c)(u.node)}for(;e.length||t.length;){let u=r();if(i+=escapeHTML(n.substring(s,u[0].offset)),s=u[0].offset,u===e){o.reverse().forEach(c);do l(u.splice(0,1)[0]),u=r();while(u===e&&u.length&&u[0].offset===s);o.reverse().forEach(a)}else u[0].event==="start"?o.push(u[0].node):o.pop(),l(u.splice(0,1)[0])}return i+escapeHTML(n.substr(s))}const seenDeprecations={},error=e=>{console.error(e)},warn=(e,...t)=>{console.log(`WARN: ${e}`,...t)},deprecated=(e,t)=>{seenDeprecations[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),seenDeprecations[`${e}/${t}`]=!0)},escape$1=escapeHTML,inherit$1=inherit,NO_MATCH=Symbol("nomatch"),HLJS=function(e){const t=Object.create(null),n=Object.create(null),s=[];let i=!0;const o=/(^(<[^>]+>|\t|)+|\n)/gm,r="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let c={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:TokenTreeEmitter};function l(b){return c.noHighlightRe.test(b)}function u(b){let A=b.className+" ";A+=b.parentNode?b.parentNode.className:"";const D=c.languageDetectRe.exec(A);if(D){const V=z(D[1]);return V||(warn(r.replace("{}",D[1])),warn("Falling back to no-highlight mode for this block.",b)),V?D[1]:"no-highlight"}return A.split(/\s+/).find(V=>l(V)||z(V))}function d(b,A,D,V){let U="",Z="";typeof A=="object"?(U=b,D=A.ignoreIllegals,Z=A.language,V=void 0):(deprecated("10.7.0","highlight(lang, code, ...args) has been deprecated."),deprecated("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Z=b,U=A);const G={code:U,language:Z};K("before:highlight",G);const Q=G.result?G.result:f(G.language,G.code,D,V);return Q.code=G.code,K("after:highlight",Q),Q}function f(b,A,D,V){function U(C,w){const B=ae.case_insensitive?w[0].toLowerCase():w[0];return Object.prototype.hasOwnProperty.call(C.keywords,B)&&C.keywords[B]}function Z(){if(!T.keywords){_.addText(N);return}let C=0;T.keywordPatternRe.lastIndex=0;let w=T.keywordPatternRe.exec(N),B="";for(;w;){B+=N.substring(C,w.index);const k=U(T,w);if(k){const[J,he]=k;if(_.addText(B),B="",le+=he,J.startsWith("_"))B+=w[0];else{const ve=ae.classNameAliases[J]||J;_.addKeyword(w[0],ve)}}else B+=w[0];C=T.keywordPatternRe.lastIndex,w=T.keywordPatternRe.exec(N)}B+=N.substr(C),_.addText(B)}function G(){if(N==="")return;let C=null;if(typeof T.subLanguage=="string"){if(!t[T.subLanguage]){_.addText(N);return}C=f(T.subLanguage,N,!0,O[T.subLanguage]),O[T.subLanguage]=C.top}else C=h(N,T.subLanguage.length?T.subLanguage:null);T.relevance>0&&(le+=C.relevance),_.addSublanguage(C.emitter,C.language)}function Q(){T.subLanguage!=null?G():Z(),N=""}function ne(C){return C.className&&_.openNode(ae.classNameAliases[C.className]||C.className),T=Object.create(C,{parent:{value:T}}),T}function se(C,w,B){let k=startsWith(C.endRe,B);if(k){if(C["on:end"]){const J=new Response(C);C["on:end"](w,J),J.isMatchIgnored&&(k=!1)}if(k){for(;C.endsParent&&C.parent;)C=C.parent;return C}}if(C.endsWithParent)return se(C.parent,w,B)}function de(C){return T.matcher.regexIndex===0?(N+=C[0],1):(ye=!0,0)}function me(C){const w=C[0],B=C.rule,k=new Response(B),J=[B.__beforeBegin,B["on:begin"]];for(const he of J)if(he&&(he(C,k),k.isMatchIgnored))return de(w);return B&&B.endSameAsBegin&&(B.endRe=escape(w)),B.skip?N+=w:(B.excludeBegin&&(N+=w),Q(),!B.returnBegin&&!B.excludeBegin&&(N=w)),ne(B),B.returnBegin?0:w.length}function ge(C){const w=C[0],B=A.substr(C.index),k=se(T,C,B);if(!k)return NO_MATCH;const J=T;J.skip?N+=w:(J.returnEnd||J.excludeEnd||(N+=w),Q(),J.excludeEnd&&(N=w));do T.className&&_.closeNode(),!T.skip&&!T.subLanguage&&(le+=T.relevance),T=T.parent;while(T!==k.parent);return k.starts&&(k.endSameAsBegin&&(k.starts.endRe=k.endRe),ne(k.starts)),J.returnEnd?0:w.length}function xe(){const C=[];for(let w=T;w!==ae;w=w.parent)w.className&&C.unshift(w.className);C.forEach(w=>_.openNode(w))}let ue={};function fe(C,w){const B=w&&w[0];if(N+=C,B==null)return Q(),0;if(ue.type==="begin"&&w.type==="end"&&ue.index===w.index&&B===""){if(N+=A.slice(w.index,w.index+1),!i){const k=new Error("0 width match regex");throw k.languageName=b,k.badRule=ue.rule,k}return 1}if(ue=w,w.type==="begin")return me(w);if(w.type==="illegal"&&!D){const k=new Error('Illegal lexeme "'+B+'" for mode "'+(T.className||"<unnamed>")+'"');throw k.mode=T,k}else if(w.type==="end"){const k=ge(w);if(k!==NO_MATCH)return k}if(w.type==="illegal"&&B==="")return 1;if(ie>1e5&&ie>w.index*3)throw new Error("potential infinite loop, way more iterations than matches");return N+=B,B.length}const ae=z(b);if(!ae)throw error(r.replace("{}",b)),new Error('Unknown language: "'+b+'"');const pe=compileLanguage(ae,{plugins:s});let L="",T=V||pe;const O={},_=new c.__emitter(c);xe();let N="",le=0,ce=0,ie=0,ye=!1;try{for(T.matcher.considerAll();;){ie++,ye?ye=!1:T.matcher.considerAll(),T.matcher.lastIndex=ce;const C=T.matcher.exec(A);if(!C)break;const w=A.substring(ce,C.index),B=fe(w,C);ce=C.index+B}return fe(A.substr(ce)),_.closeAllNodes(),_.finalize(),L=_.toHTML(),{relevance:Math.floor(le),value:L,language:b,illegal:!1,emitter:_,top:T}}catch(C){if(C.message&&C.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:C.message,context:A.slice(ce-100,ce+100),mode:C.mode},sofar:L,relevance:0,value:escape$1(A),emitter:_};if(i)return{illegal:!1,relevance:0,value:escape$1(A),emitter:_,language:b,top:T,errorRaised:C};throw C}}function p(b){const A={relevance:0,emitter:new c.__emitter(c),value:escape$1(b),illegal:!1,top:a};return A.emitter.addText(b),A}function h(b,A){A=A||c.languages||Object.keys(t);const D=p(b),V=A.filter(z).filter($).map(ne=>f(ne,b,!1));V.unshift(D);const U=V.sort((ne,se)=>{if(ne.relevance!==se.relevance)return se.relevance-ne.relevance;if(ne.language&&se.language){if(z(ne.language).supersetOf===se.language)return 1;if(z(se.language).supersetOf===ne.language)return-1}return 0}),[Z,G]=U,Q=Z;return Q.second_best=G,Q}function x(b){return c.tabReplace||c.useBR?b.replace(o,A=>A===`
`?c.useBR?"<br>":A:c.tabReplace?A.replace(/\t/g,c.tabReplace):A):b}function E(b,A,D){const V=A?n[A]:D;b.classList.add("hljs"),V&&b.classList.add(V)}const y={"before:highlightElement":({el:b})=>{c.useBR&&(b.innerHTML=b.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,`
`))},"after:highlightElement":({result:b})=>{c.useBR&&(b.value=b.value.replace(/\n/g,"<br>"))}},S=/^(<[^>]+>|\t)+/gm,v={"after:highlightElement":({result:b})=>{c.tabReplace&&(b.value=b.value.replace(S,A=>A.replace(/\t/g,c.tabReplace)))}};function P(b){let A=null;const D=u(b);if(l(D))return;K("before:highlightElement",{el:b,language:D}),A=b;const V=A.textContent,U=D?d(V,{language:D,ignoreIllegals:!0}):h(V);K("after:highlightElement",{el:b,result:U,text:V}),b.innerHTML=U.value,E(b,D,U.language),b.result={language:U.language,re:U.relevance,relavance:U.relevance},U.second_best&&(b.second_best={language:U.second_best.language,re:U.second_best.relevance,relavance:U.second_best.relevance})}function g(b){b.useBR&&(deprecated("10.3.0","'useBR' will be removed entirely in v11.0"),deprecated("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),c=inherit$1(c,b)}const R=()=>{if(R.called)return;R.called=!0,deprecated("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(P)};function M(){deprecated("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),j=!0}let j=!1;function I(){if(document.readyState==="loading"){j=!0;return}document.querySelectorAll("pre code").forEach(P)}function F(){j&&I()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",F,!1);function W(b,A){let D=null;try{D=A(e)}catch(V){if(error("Language definition for '{}' could not be registered.".replace("{}",b)),i)error(V);else throw V;D=a}D.name||(D.name=b),t[b]=D,D.rawDefinition=A.bind(null,e),D.aliases&&te(D.aliases,{languageName:b})}function X(b){delete t[b];for(const A of Object.keys(n))n[A]===b&&delete n[A]}function Y(){return Object.keys(t)}function ee(b){deprecated("10.4.0","requireLanguage will be removed entirely in v11."),deprecated("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const A=z(b);if(A)return A;throw new Error("The '{}' language is required, but not loaded.".replace("{}",b))}function z(b){return b=(b||"").toLowerCase(),t[b]||t[n[b]]}function te(b,{languageName:A}){typeof b=="string"&&(b=[b]),b.forEach(D=>{n[D.toLowerCase()]=A})}function $(b){const A=z(b);return A&&!A.disableAutodetect}function H(b){b["before:highlightBlock"]&&!b["before:highlightElement"]&&(b["before:highlightElement"]=A=>{b["before:highlightBlock"](Object.assign({block:A.el},A))}),b["after:highlightBlock"]&&!b["after:highlightElement"]&&(b["after:highlightElement"]=A=>{b["after:highlightBlock"](Object.assign({block:A.el},A))})}function q(b){H(b),s.push(b)}function K(b,A){const D=b;s.forEach(function(V){V[D]&&V[D](A)})}function re(b){return deprecated("10.2.0","fixMarkup will be removed entirely in v11.0"),deprecated("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),x(b)}function oe(b){return deprecated("10.7.0","highlightBlock will be removed entirely in v12.0"),deprecated("10.7.0","Please use highlightElement now."),P(b)}Object.assign(e,{highlight:d,highlightAuto:h,highlightAll:I,fixMarkup:re,highlightElement:P,highlightBlock:oe,configure:g,initHighlighting:R,initHighlightingOnLoad:M,registerLanguage:W,unregisterLanguage:X,listLanguages:Y,getLanguage:z,registerAliases:te,requireLanguage:ee,autoDetection:$,inherit:inherit$1,addPlugin:q,vuePlugin:BuildVuePlugin(e).VuePlugin}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=version;for(const b in MODES)typeof MODES[b]=="object"&&deepFreezeEs6(MODES[b]);return Object.assign(e,MODES),e.addPlugin(y),e.addPlugin(mergeHTMLPlugin),e.addPlugin(v),e};var highlight$1=HLJS({}),core=highlight$1,format={exports:{}};(function(e){(function(){var t;t=e.exports=i,t.format=i,t.vsprintf=s,typeof console<"u"&&typeof console.log=="function"&&(t.printf=n);function n(){console.log(i.apply(null,arguments))}function s(o,r){return i.apply(null,[o].concat(r))}function i(o){for(var r=1,a=[].slice.call(arguments),c=0,l=o.length,u="",d,f=!1,p,h,x=!1,E,y=function(){return a[r++]},S=function(){for(var v="";/\d/.test(o[c]);)v+=o[c++],d=o[c];return v.length>0?parseInt(v):null};c<l;++c)if(d=o[c],f)switch(f=!1,d=="."?(x=!1,d=o[++c]):d=="0"&&o[c+1]=="."?(x=!0,c+=2,d=o[c]):x=!0,E=S(),d){case"b":u+=parseInt(y(),10).toString(2);break;case"c":p=y(),typeof p=="string"||p instanceof String?u+=p:u+=String.fromCharCode(parseInt(p,10));break;case"d":u+=parseInt(y(),10);break;case"f":h=String(parseFloat(y()).toFixed(E||6)),u+=x?h:h.replace(/^0/,"");break;case"j":u+=JSON.stringify(y());break;case"o":u+="0"+parseInt(y(),10).toString(8);break;case"s":u+=y();break;case"x":u+="0x"+parseInt(y(),10).toString(16);break;case"X":u+="0x"+parseInt(y(),10).toString(16).toUpperCase();break;default:u+=d;break}else d==="%"?f=!0:u+=d;return u}})()})(format);var formatExports=format.exports,formatter=formatExports,fault$1=create(Error),fault_1=fault$1;fault$1.eval=create(EvalError);fault$1.range=create(RangeError);fault$1.reference=create(ReferenceError);fault$1.syntax=create(SyntaxError);fault$1.type=create(TypeError);fault$1.uri=create(URIError);fault$1.create=create;function create(e){return t.displayName=e.displayName||e.name,t;function t(n){return n&&(n=formatter.apply(null,arguments)),new e(n)}}var high=core,fault=fault_1;core$1.highlight=highlight;core$1.highlightAuto=highlightAuto;core$1.registerLanguage=registerLanguage;core$1.listLanguages=listLanguages;core$1.registerAlias=registerAlias;Emitter.prototype.addText=text;Emitter.prototype.addKeyword=addKeyword;Emitter.prototype.addSublanguage=addSublanguage;Emitter.prototype.openNode=open;Emitter.prototype.closeNode=close;Emitter.prototype.closeAllNodes=noop$1;Emitter.prototype.finalize=noop$1;Emitter.prototype.toHTML=toHtmlNoop;var defaultPrefix="hljs-";function highlight(e,t,n){var s=high.configure({}),i=n||{},o=i.prefix,r;if(typeof e!="string")throw fault("Expected `string` for name, got `%s`",e);if(!high.getLanguage(e))throw fault("Unknown language: `%s` is not registered",e);if(typeof t!="string")throw fault("Expected `string` for value, got `%s`",t);if(o==null&&(o=defaultPrefix),high.configure({__emitter:Emitter,classPrefix:o}),r=high.highlight(t,{language:e,ignoreIllegals:!0}),high.configure(s||{}),r.errorRaised)throw r.errorRaised;return{relevance:r.relevance,language:r.language,value:r.emitter.rootNode.children}}function highlightAuto(e,t){var n=t||{},s=n.subset||high.listLanguages();n.prefix;var i=s.length,o=-1,r,a,c,l;if(typeof e!="string")throw fault("Expected `string` for value, got `%s`",e);for(a={relevance:0,language:null,value:[]},r={relevance:0,language:null,value:[]};++o<i;)l=s[o],high.getLanguage(l)&&(c=highlight(l,e,t),c.language=l,c.relevance>a.relevance&&(a=c),c.relevance>r.relevance&&(a=r,r=c));return a.language&&(r.secondBest=a),r}function registerLanguage(e,t){high.registerLanguage(e,t)}function listLanguages(){return high.listLanguages()}function registerAlias(e,t){var n=e,s;t&&(n={},n[e]=t);for(s in n)high.registerAliases(n[s],{languageName:s})}function Emitter(e){this.options=e,this.rootNode={children:[]},this.stack=[this.rootNode]}function addKeyword(e,t){this.openNode(t),this.addText(e),this.closeNode()}function addSublanguage(e,t){var n=this.stack,s=n[n.length-1],i=e.rootNode.children,o=t?{type:"element",tagName:"span",properties:{className:[t]},children:i}:i;s.children=s.children.concat(o)}function text(e){var t=this.stack,n,s;e!==""&&(n=t[t.length-1],s=n.children[n.children.length-1],s&&s.type==="text"?s.value+=e:n.children.push({type:"text",value:e}))}function open(e){var t=this.stack,n=this.options.classPrefix+e,s=t[t.length-1],i={type:"element",tagName:"span",properties:{className:[n]},children:[]};s.children.push(i),t.push(i)}function close(){this.stack.pop()}function toHtmlNoop(){return""}function noop$1(){}const IDENT_RE="[A-Za-z$_][0-9A-Za-z$_]*",KEYWORDS=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],LITERALS=["true","false","null","undefined","NaN","Infinity"],TYPES=["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer","BigInt64Array","BigUint64Array","BigInt"],ERROR_TYPES=["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],BUILT_IN_GLOBALS=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],BUILT_IN_VARIABLES=["arguments","this","super","console","window","document","localStorage","module","global"],BUILT_INS=[].concat(BUILT_IN_GLOBALS,BUILT_IN_VARIABLES,TYPES,ERROR_TYPES);function source(e){return e?typeof e=="string"?e:e.source:null}function lookahead(e){return concat("(?=",e,")")}function concat(...e){return e.map(n=>source(n)).join("")}function javascript(e){const t=(P,{after:g})=>{const R="</"+P[0].slice(1);return P.input.indexOf(R,g)!==-1},n=IDENT_RE,s={begin:"<>",end:"</>"},i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,g)=>{const R=P[0].length+P.index,M=P.input[R];if(M==="<"){g.ignoreMatch();return}M===">"&&(t(P,{after:R})||g.ignoreMatch())}},o={$pattern:IDENT_RE,keyword:KEYWORDS,literal:LITERALS,built_in:BUILT_INS},r="[0-9](_?[0-9])*",a=`\\.(${r})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",l={className:"number",variants:[{begin:`(\\b(${c})((${a})|\\.)?|(${a}))[eE][+-]?(${r})\\b`},{begin:`\\b(${c})\\b((${a})\\b|\\.)?|(${a})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},u={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},d={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"xml"}},f={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"css"}},p={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,u]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},E=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,f,p,l,e.REGEXP_MODE];u.contains=E.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(E)});const y=[].concat(x,u.contains),S=y.concat([{begin:/\(/,end:/\)/,keywords:o,contains:["self"].concat(y)}]),v={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:S};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:S},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,f,p,x,l,{begin:concat(/[{,\n]\s*/,lookahead(concat(/(((\/\/.*$)|(\/\*(\*[^/]|[^*])*\*\/))\s*)*/,n+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:n+lookahead("\\s*:"),relevance:0}]},{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[x,e.REGEXP_MODE,{className:"function",begin:"(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:S}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:s.begin,end:s.end},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/[{;]/,excludeEnd:!0,keywords:o,contains:["self",e.inherit(e.TITLE_MODE,{begin:n}),v],illegal:/%/},{beginKeywords:"while if switch catch for"},{className:"function",begin:e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,contains:[v,e.inherit(e.TITLE_MODE,{begin:n})]},{variants:[{begin:"\\."+n},{begin:"\\$"+n}],relevance:0},{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"[\]]/,contains:[{beginKeywords:"extends"},e.UNDERSCORE_TITLE_MODE]},{begin:/\b(?=constructor)/,end:/[{;]/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:n}),"self",v]},{begin:"(get|set)\\s+(?="+n+"\\()",end:/\{/,keywords:"get set",contains:[e.inherit(e.TITLE_MODE,{begin:n}),{begin:/\(\)/},v]},{begin:/\$[(.]/}]}}var javascript_1=javascript;const javascript$1=getDefaultExportFromCjs(javascript_1);var SyntaxHighlighter=highlight$2(core$1,{});SyntaxHighlighter.registerLanguage=core$1.registerLanguage;const docco={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#000",background:"#f8f8ff"},"hljs-comment":{color:"#408080",fontStyle:"italic"},"hljs-quote":{color:"#408080",fontStyle:"italic"},"hljs-keyword":{color:"#954121"},"hljs-selector-tag":{color:"#954121"},"hljs-literal":{color:"#954121"},"hljs-subst":{color:"#954121"},"hljs-number":{color:"#40a070"},"hljs-string":{color:"#219161"},"hljs-doctag":{color:"#219161"},"hljs-selector-id":{color:"#19469d"},"hljs-selector-class":{color:"#19469d"},"hljs-section":{color:"#19469d"},"hljs-type":{color:"#19469d"},"hljs-params":{color:"#00f"},"hljs-title":{color:"#458",fontWeight:"bold"},"hljs-tag":{color:"#000080",fontWeight:"normal"},"hljs-name":{color:"#000080",fontWeight:"normal"},"hljs-attribute":{color:"#000080",fontWeight:"normal"},"hljs-variable":{color:"#008080"},"hljs-template-variable":{color:"#008080"},"hljs-regexp":{color:"#b68"},"hljs-link":{color:"#b68"},"hljs-symbol":{color:"#990073"},"hljs-bullet":{color:"#990073"},"hljs-built_in":{color:"#0086b3"},"hljs-builtin-name":{color:"#0086b3"},"hljs-meta":{color:"#999",fontWeight:"bold"},"hljs-deletion":{background:"#fdd"},"hljs-addition":{background:"#dfd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}};SyntaxHighlighter.registerLanguage("javascript",javascript$1);const SolutionExample=({solution:e})=>jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,children:"解答例"}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",sx:{mt:2,mb:1},children:"コード:"}),jsxRuntimeExports.jsx(SyntaxHighlighter,{language:"javascript",style:docco,children:e.code}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",sx:{mt:2,mb:1},children:"説明:"}),jsxRuntimeExports.jsx(Typography,{variant:"body1",sx:{mb:2},children:e.explanation}),jsxRuntimeExports.jsx(Divider,{sx:{my:2}}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",sx:{mb:1},children:"計算量:"}),jsxRuntimeExports.jsxs(Typography,{variant:"body1",children:["時間計算量: ",e.complexity.time]}),jsxRuntimeExports.jsxs(Typography,{variant:"body1",sx:{mb:2},children:["空間計算量: ",e.complexity.space]}),jsxRuntimeExports.jsx(Divider,{sx:{my:2}}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",sx:{mb:1},children:"別解:"}),e.alternatives.map((t,n)=>jsxRuntimeExports.jsxs(Box,{sx:{mb:3},children:[jsxRuntimeExports.jsx(Typography,{variant:"body1",sx:{mb:1},children:t.description}),jsxRuntimeExports.jsx(SyntaxHighlighter,{language:"javascript",style:docco,children:t.code})]},n))]}),HintSystem=({hints:e,onUnlockHint:t})=>{const{currentExp:n}=useLevel(),s=e.filter(i=>i.unlocked);return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,children:"ヒントシステム"}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",gutterBottom:!0,children:["解放済みヒント: ",s.length," / ",e.length]}),jsxRuntimeExports.jsx(List,{children:e.map((i,o)=>jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Typography,{variant:"subtitle1",children:["ヒント ",i.level]}),i.unlocked?jsxRuntimeExports.jsx(Typography,{variant:"body1",children:i.content}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{variant:"contained",color:"primary",disabled:n<i.cost,onClick:()=>t(i.level.toString()),children:[i.cost," EXPで解放"]}),n<i.cost&&jsxRuntimeExports.jsx(Typography,{variant:"caption",color:"error",children:"必要な経験値が不足しています"})]})]})},o))})]})},questData={1:{explanation:{lineByLine:["function magicAdd(a, b) { ... } - 2つの数値を受け取る関数を定義します","return a + b; - 受け取った2つの数値を加算して結果を返します"],concepts:["関数定義 - 特定の処理をまとめて再利用可能にします","パラメータ - 関数に渡される値を表します","加算演算子 (+) - 2つの値を足し合わせます","return文 - 関数の結果を呼び出し元に返します"],tips:["引数の型は自動的に数値として扱われます","加算演算子は最も基本的な算術演算子の1つです","結果は新しい数値として返されます"]},solution:{code:`function magicAdd(a, b) {
  return a + b;
}`,explanation:"2つの数値を受け取り、加算演算子を使って合計を計算します。シンプルで直接的なアプローチです。",complexity:{time:"O(1) - 定数時間で実行されます",space:"O(1) - 追加のメモリを使用しません"},alternatives:[{description:"一時変数を使用する方法",code:`function magicAdd(a, b) {
  let sum = a + b;
  return sum;
}`}]},hints:[{level:1,content:"2つの数を足すには + 演算子を使います",cost:10,unlocked:!1},{level:2,content:"return文を使って結果を返すことを忘れないでください",cost:20,unlocked:!1},{level:3,content:"完全な解答例: return a + b;",cost:50,unlocked:!1}]}},getQuestLearningData=e=>questData[e]||null,LayoutGroupContext=reactExports.createContext({});function useConstant(e){const t=reactExports.useRef(null);return t.current===null&&(t.current=e()),t.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:t}){const n=reactExports.useId(),s=reactExports.useRef(null),i=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:r,height:a,top:c,left:l}=i.current;if(t||!s.current||!r||!a)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:t,childRef:s,sizeRef:i,children:reactExports.cloneElement(e,{ref:s})})}const PresenceChild=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:r})=>{const a=useConstant(newChildrenMap),c=reactExports.useId(),l=reactExports.useCallback(d=>{a.set(d,!0);for(const f of a.values())if(!f)return;s&&s()},[a,s]),u=reactExports.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:l,register:d=>(a.set(d,!1),()=>a.delete(d))}),o?[Math.random(),l]:[n,l]);return reactExports.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),reactExports.useEffect(()=>{!n&&!a.size&&s&&s()},[n]),r==="popLayout"&&(e=jsxRuntimeExports.jsx(PopChild,{isPresent:n,children:e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:u,children:e})};function newChildrenMap(){return new Map}function usePresence(e=!0){const t=reactExports.useContext(PresenceContext);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,o=reactExports.useId();reactExports.useEffect(()=>{e&&i(o)},[e]);const r=reactExports.useCallback(()=>e&&s&&s(o),[o,s,e]);return!n&&s?[!1,r]:[!0]}const getChildKey=e=>e.key||"";function onlyElements(e){const t=[];return reactExports.Children.forEach(e,n=>{reactExports.isValidElement(n)&&t.push(n)}),t}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:r=!1})=>{const[a,c]=usePresence(r),l=reactExports.useMemo(()=>onlyElements(e),[e]),u=r&&!a?[]:l.map(getChildKey),d=reactExports.useRef(!0),f=reactExports.useRef(l),p=useConstant(()=>new Map),[h,x]=reactExports.useState(l),[E,y]=reactExports.useState(l);useIsomorphicLayoutEffect(()=>{d.current=!1,f.current=l;for(let P=0;P<E.length;P++){const g=getChildKey(E[P]);u.includes(g)?p.delete(g):p.get(g)!==!0&&p.set(g,!1)}},[E,u.length,u.join("-")]);const S=[];if(l!==h){let P=[...l];for(let g=0;g<E.length;g++){const R=E[g],M=getChildKey(R);u.includes(M)||(P.splice(g,0,R),S.push(R))}o==="wait"&&S.length&&(P=S),y(onlyElements(P)),x(l);return}const{forceRender:v}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:E.map(P=>{const g=getChildKey(P),R=r&&!a?!1:l===E||u.includes(g),M=()=>{if(p.has(g))p.set(g,!0);else return;let j=!0;p.forEach(I=>{I||(j=!1)}),j&&(v==null||v(),y(f.current),r&&(c==null||c()),s&&s())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:R,initial:!d.current||n?void 0:!1,custom:R?void 0:t,presenceAffectsLayout:i,mode:o,onExitComplete:R?void 0:M,children:P},g)})})},noop=e=>e;let invariant=noop;function memo(e){let t;return()=>(t===void 0&&(t=e()),t)}const progress=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3,MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};function createRenderStep(e){let t=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let r={delta:0,timestamp:0,isProcessing:!1};function a(l){o.has(l)&&(c.schedule(l),e()),l(r)}const c={schedule:(l,u=!1,d=!1)=>{const p=d&&s?t:n;return u&&o.add(l),p.has(l)||p.add(l),l},cancel:l=>{n.delete(l),o.delete(l)},process:l=>{if(r=l,s){i=!0;return}s=!0,[t,n]=[n,t],t.forEach(a),t.clear(),s=!1,i&&(i=!1,c.process(l))}};return c}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,r=stepsOrder.reduce((y,S)=>(y[S]=createRenderStep(o),y),{}),{read:a,resolveKeyframes:c,update:l,preRender:u,render:d,postRender:f}=r,p=()=>{const y=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(y-i.timestamp,maxElapsed),1),i.timestamp=y,i.isProcessing=!0,a.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(p))},h=()=>{n=!0,s=!0,i.isProcessing||e(p)};return{schedule:stepsOrder.reduce((y,S)=>{const v=r[S];return y[S]=(P,g=!1,R=!1)=>(n||h(),v.schedule(P,g,R)),y},{}),cancel:y=>{for(let S=0;S<stepsOrder.length;S++)r[stepsOrder[S]].cancel(y)},state:i,steps:r}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:t=>featureProps[e].some(n=>!!t[n])};function loadFeatures(e){for(const t in e)featureDefinitions[t]={...featureDefinitions[t],...e[t]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){e&&(shouldForward=t=>t.startsWith("on")?!isValidMotionProp(t):e(t))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch(e){}function filterProps(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(shouldForward(i)||n===!0&&isValidMotionProp(i)||!t&&!isValidMotionProp(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function createDOMMotionComponentProxy(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const MotionContext=reactExports.createContext({});function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(t=>isVariantLabel(e[t]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,t){if(isControllingVariants(e)){const{initial:n,animate:s}=e;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(s)?s:void 0}}return e.inherit!==!1?t:{}}function useCreateMotionContext(e){const{initial:t,animate:n}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:t,animate:n}),[variantLabelsAsDependency(t),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,t,n){return reactExports.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):isRefObject(n)&&(n.current=s))},[t])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,t,n,s,i){var o,r;const{visualElement:a}=reactExports.useContext(MotionContext),c=reactExports.useContext(LazyContext),l=reactExports.useContext(PresenceContext),u=reactExports.useContext(MotionConfigContext).reducedMotion,d=reactExports.useRef(null);s=s||c.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,p=reactExports.useContext(SwitchLayoutGroupContext);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&createProjectionNode$1(d.current,n,i,p);const h=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{f&&h.current&&f.update(n,l)});const x=n[optimizedAppearDataAttribute],E=reactExports.useRef(!!x&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,x))&&((r=window.MotionHasOptimisedAnimation)===null||r===void 0?void 0:r.call(window,x)));return useIsomorphicLayoutEffect(()=>{f&&(h.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),microtask.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),reactExports.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,x)}),E.current=!1))}),f}function createProjectionNode$1(e,t,n,s){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:c,layoutRoot:l}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||a&&isRefObject(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:l})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createRendererMotionComponent({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){var o,r;e&&loadFeatures(e);function a(l,u){let d;const f={...reactExports.useContext(MotionConfigContext),...l,layoutId:useLayoutId(l)},{isStatic:p}=f,h=useCreateMotionContext(l),x=s(l,p);if(!p&&isBrowser){useStrictMode();const E=getProjectionFunctionality(f);d=E.MeasureLayout,h.visualElement=useVisualElement(i,x,f,t,E.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:h,children:[d&&h.visualElement?jsxRuntimeExports.jsx(d,{visualElement:h.visualElement,...f}):null,n(i,l,useMotionRef(x,h.visualElement,u),x,p,h.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(r=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&r!==void 0?r:""})`}`;const c=reactExports.forwardRef(a);return c[motionComponentSymbol]=i,c}function useLayoutId({layoutId:e}){const t=reactExports.useContext(LayoutGroupContext).id;return t&&e!==void 0?t+"-"+e:e}function useStrictMode(e,t){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:t,layout:n}=featureDefinitions;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}function getValueState(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function resolveVariantFromProps(e,t,n,s){if(typeof t=="function"){const[i,o]=getValueState(s);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=getValueState(s);t=t(n!==void 0?n:e.custom,i,o)}return t}const isKeyframesTarget=e=>Array.isArray(e),isCustomValue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),resolveFinalValueInKeyframes=e=>isKeyframesTarget(e)?e[e.length-1]||0:e,isMotionValue=e=>!!(e&&e.getVelocity);function resolveMotionValue(e){const t=isMotionValue(e)?e.get():e;return isCustomValue(t)?t.toValue():t}function makeState({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,i,o){const r={latestValues:makeLatestValues(s,i,o,e),renderState:t()};return n&&(r.onMount=a=>n({props:s,current:a,...r}),r.onUpdate=a=>n(a)),r}const makeUseVisualState=e=>(t,n)=>{const s=reactExports.useContext(MotionContext),i=reactExports.useContext(PresenceContext),o=()=>makeState(e,t,s,i);return n?o():useConstant(o)};function makeLatestValues(e,t,n,s){const i={},o=s(e,{});for(const f in o)i[f]=resolveMotionValue(o[f]);let{initial:r,animate:a}=e;const c=isControllingVariants(e),l=isVariantNode(e);t&&l&&!c&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||r===!1;const d=u?a:r;if(d&&typeof d!="boolean"&&!isAnimationControls(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const h=resolveVariantFromProps(e,f[p]);if(h){const{transitionEnd:x,transition:E,...y}=h;for(const S in y){let v=y[S];if(Array.isArray(v)){const P=u?v.length-1:0;v=v[P]}v!==null&&(i[S]=v)}for(const S in x)i[S]=x[S]}}}return i}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=e=>t=>typeof t=="string"&&t.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(e,t)=>t&&typeof e=="number"?t.transform(e):e,clamp=(e,t,n)=>n>t?t:n<e?e:n,number={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number,transform:e=>clamp(0,1,e)},scale={...number,default:1},createUnitType=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,t,n){let s="",i=!0;for(let o=0;o<numTransforms;o++){const r=transformPropOrder[o],a=e[r];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(r.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const l=getValueAsType(a,numberValueTypes[r]);if(!c){i=!1;const u=translateAlias[r]||r;s+=`${u}(${l}) `}n&&(t[r]=l)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function buildHTMLStyles(e,t,n){const{style:s,vars:i,transformOrigin:o}=e;let r=!1,a=!1;for(const c in t){const l=t[c];if(transformProps.has(c)){r=!0;continue}else if(isCSSVariableName(c)){i[c]=l;continue}else{const u=getValueAsType(l,numberValueTypes[c]);c.startsWith("origin")?(a=!0,o[c]=u):s[c]=u}}if(t.transform||(r||n?s.transform=buildTransform(t,e.transform,n):s.transform&&(s.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:u=0}=o;s.transformOrigin=`${c} ${l} ${u}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,t,n=1,s=0,i=!0){e.pathLength=1;const o=i?dashKeys:camelKeys;e[o.offset]=px.transform(-s);const r=px.transform(t),a=px.transform(n);e[o.array]=`${r} ${a}`}function calcOrigin$1(e,t,n){return typeof e=="string"?e:px.transform(t+n*e)}function calcSVGTransformOrigin(e,t,n){const s=calcOrigin$1(t,e.x,e.width),i=calcOrigin$1(n,e.y,e.height);return`${s} ${i}`}function buildSVGAttrs(e,{attrX:t,attrY:n,attrScale:s,originX:i,originY:o,pathLength:r,pathSpacing:a=1,pathOffset:c=0,...l},u,d){if(buildHTMLStyles(e,l,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:h}=e;f.transform&&(h&&(p.transform=f.transform),delete f.transform),h&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=calcSVGTransformOrigin(h,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),r!==void 0&&buildSVGPath(f,r,a,c,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function renderHTML(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const o in n)e.style.setProperty(o,n[o])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,t,n,s){renderHTML(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(camelCaseAttributes.has(i)?i:camelToDash(i),t.attrs[i])}const scaleCorrectors={};function addScaleCorrector(e){Object.assign(scaleCorrectors,e)}function isForcedMotionValue(e,{layout:t,layoutId:n}){return transformProps.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}function scrapeMotionValuesFromProps$1(e,t,n){var s;const{style:i}=e,o={};for(const r in i)(isMotionValue(i[r])||t.style&&isMotionValue(t.style[r])||isForcedMotionValue(r,e)||((s=n==null?void 0:n.getValue(r))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(o[r]=i[r]);return o}function scrapeMotionValuesFromProps(e,t,n){const s=scrapeMotionValuesFromProps$1(e,t,n);for(const i in e)if(isMotionValue(e[i])||isMotionValue(t[i])){const o=transformPropOrder.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=e[i]}return s}function updateSVGDimensions(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:i})=>{if(!n)return;let o=!!e.drag;if(!o){for(const a in i)if(transformProps.has(a)){o=!0;break}}if(!o)return;let r=!t;if(t)for(let a=0;a<layoutProps.length;a++){const c=layoutProps[a];e[c]!==t[c]&&(r=!0)}r&&frame.read(()=>{updateSVGDimensions(n,s),frame.render(()=>{buildSVGAttrs(s,i,isSVGTag(n.tagName),e.transformTemplate),renderSVG(n,s)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(e,t,n){for(const s in t)!isMotionValue(t[s])&&!isForcedMotionValue(s,n)&&(e[s]=t[s])}function useInitialMotionValues({transformTemplate:e},t){return reactExports.useMemo(()=>{const n=createHtmlRenderState();return buildHTMLStyles(n,t,e),Object.assign({},n.vars,n.style)},[t])}function useStyle(e,t){const n=e.style||{},s={};return copyRawValuesOnly(s,n,e),Object.assign(s,useInitialMotionValues(e,t)),s}function useHTMLProps(e,t){const n={},s=useStyle(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}function useSVGProps(e,t,n,s){const i=reactExports.useMemo(()=>{const o=createSvgRenderState();return buildSVGAttrs(o,t,isSVGTag(s),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};copyRawValuesOnly(o,e.style,e),i.style={...o,...i.style}}return i}function createUseRender(e=!1){return(n,s,i,{latestValues:o},r)=>{const c=(isSVGComponent(n)?useSVGProps:useHTMLProps)(s,o,r,n),l=filterProps(s,typeof n=="string",e),u=n!==reactExports.Fragment?{...l,...c,ref:i}:{},{children:d}=s,f=reactExports.useMemo(()=>isMotionValue(d)?d.get():d,[d]);return reactExports.createElement(n,{...u,children:f})}}function createMotionComponentFactory(e,t){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const r={...isSVGComponent(s)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:e,useRender:createUseRender(i),createVisualElement:t,Component:s};return createRendererMotionComponent(r)}}function shallowCompare(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function resolveVariant(e,t,n){const s=e.getProps();return resolveVariantFromProps(s,t,n!==void 0?n:s.custom,e)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(i=>{if(supportsScrollTimeline()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{s.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function getValueTransition(e,t){return e?e[t]||e.default||e:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<maxGeneratorDuration;)t+=n,s=e.next(t);return t>=maxGeneratorDuration?1/0:t}function isGenerator(e){return typeof e=="function"}function attachTimeline(e,t){e.timeline=t,e.onfinish=null}const isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(e,t){const n=memo(e);return()=>{var s;return(s=supportsFlags[t])!==null&&s!==void 0?s:n()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)s+=e(progress(0,i-1,o))+", ";return`linear(${s.substring(0,s.length-2)})`};function isWaapiSupportedEasing(e){return!!(typeof e=="function"&&supportsLinearEasing()||!e||typeof e=="string"&&(e in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(e)||Array.isArray(e)&&e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,t){if(e)return typeof e=="function"&&supportsLinearEasing()?generateLinearEasing(e,t):isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(n=>mapEasingToNativeEasing(n,t)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function setupGesture(e,t){const n=resolveElements(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function filterEvents$1(e){return t=>{t.pointerType==="touch"||isDragActive()||e(t)}}function hover(e,t,n={}){const[s,i,o]=setupGesture(e,n),r=filterEvents$1(a=>{const{target:c}=a,l=t(a);if(typeof l!="function"||!c)return;const u=filterEvents$1(d=>{l(d),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return s.forEach(a=>{a.addEventListener("pointerenter",r,i)}),o}const isNodeOrChild=(e,t)=>t?e===t?!0:isNodeOrChild(e,t.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return t=>{t.key==="Enter"&&e(t)}}function firePointerEvent(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=filterEvents(()=>{if(isPressing.has(n))return;firePointerEvent(n,"down");const i=filterEvents(()=>{firePointerEvent(n,"up")}),o=()=>firePointerEvent(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,t,n={}){const[s,i,o]=setupGesture(e,n),r=a=>{const c=a.currentTarget;if(!isValidPressEvent(a)||isPressing.has(c))return;isPressing.add(c);const l=t(a),u=(p,h)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!isValidPressEvent(p)||!isPressing.has(c))&&(isPressing.delete(c),typeof l=="function"&&l(p,{success:h}))},d=p=>{u(p,n.useGlobalTarget||isNodeOrChild(c,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return s.forEach(a=>{!isElementKeyboardAccessible(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",r,i),a.addEventListener("focus",l=>enableKeyboardPress(l,i),i)}),o}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}};function addUniqueItem(e,t){e.indexOf(t)===-1&&e.push(t)}function removeItem(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(t){return addUniqueItem(this.subscriptions,t),()=>removeItem(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(e,t){return t?e*(1e3/t):0}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(t,n={}){this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const o=time.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=time.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new SubscriptionManager);const s=this.events[t].add(n);return t==="change"?()=>{s(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,t){return new MotionValue(e,t)}function setMotionValue(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,motionValue(n))}function setTarget(e,t){const n=resolveVariant(e,t);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const r in o){const a=resolveFinalValueInKeyframes(o[r]);setMotionValue(e,r,a)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,t){const n=e.getValue("willChange");if(isWillChangeMotionValue(n))return n.add(t)}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const calcBezier=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,t,n,s,i){let o,r,a=0;do r=t+(n-t)/2,o=calcBezier(r,s,i)-e,o>0?n=r:t=r;while(Math.abs(o)>subdivisionPrecision&&++a<subdivisionMaxIterations);return r}function cubicBezier(e,t,n,s){if(e===t&&n===s)return noop;const i=o=>binarySubdivide(o,0,1,e,n);return o=>o===0||o===1?o:calcBezier(i(o),t,s)}const mirrorEasing=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,reverseEasing=e=>t=>1-e(1-t),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,t)=>n=>!!(typeof n=="string"&&singleColorRegex.test(n)&&n.startsWith(e)||t&&!isNullish(n)&&Object.prototype.hasOwnProperty.call(n,t)),splitColor=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,o,r,a]=s.match(floatRegex);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(t)+", "+rgbUnit.transform(n)+", "+sanitize(alpha.transform(s))+")"};function parseHex(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(t))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha.transform(s))+")"},color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(floatRegex))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(colorRegex))===null||n===void 0?void 0:n.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(complexRegex,c=>(color.test(c)?(s.color.push(o),i.push(COLOR_TOKEN),n.push(color.parse(c))):c.startsWith(VAR_FUNCTION_TOKEN)?(s.var.push(o),i.push(VAR_TOKEN),n.push(c)):(s.number.push(o),i.push(NUMBER_TOKEN),n.push(parseFloat(c))),++o,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:n,split:a,indexes:s,types:i}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:t,types:n}=analyseComplexValue(e),s=t.length;return i=>{let o="";for(let r=0;r<s;r++)if(o+=t[r],i[r]!==void 0){const a=n[r];a===NUMBER_TOKEN?o+=sanitize(i[r]):a===COLOR_TOKEN?o+=color.transform(i[r]):o+=i[r]}return o}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const t=parseComplexValue(e);return createTransformer(e)(t.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(floatRegex)||[];if(!s)return e;const i=n.replace(s,"");let o=maxDefaults.has(t)?1:0;return s!==n&&(o*=100),t+"("+o+i+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const t=e.match(functionRegex);return t?t.map(applyDefaultFilter).join(" "):e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,t){let n=getDefaultValueType(e);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,t,n){let s=0,i;for(;s<e.length&&!i;){const o=e[s];typeof o=="string"&&!invalidTemplates.has(o)&&analyseComplexValue(o).values.length&&(i=e[s]),s++}if(i&&n)for(const o of t)e[o]=getAnimatableNone(n,i)}const isNumOrPxType=e=>e===number||e===px,getPosFromMatrix=(e,t)=>parseFloat(e.split(", ")[t]),getTranslateFromMatrix=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return getPosFromMatrix(i[1],t);{const o=s.match(/^matrix\((.+)\)$/u);return o?getPosFromMatrix(o[1],e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const t=[];return nonTranslationalTransformKeys.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const positionalValues={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=removeNonTranslationalTransform(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,r])=>{var a;(a=s.getValue(o))===null||a===void 0||a.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(t,n,s,i,o,r=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const r=i==null?void 0:i.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(s&&n){const c=s.readValue(n,a);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=a),i&&r===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const t=splitCSSVariableRegex.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function getVariableValue(e,t,n=1){const[s,i]=parseCSSVariable(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const r=o.trim();return isNumericalString(r)?parseFloat(r):r}return isCSSVariableToken(i)?getVariableValue(i,t,n+1):i}const testValueType=e=>t=>t.test(e),auto={test:e=>e==="auto",parse:e=>e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));class DOMKeyframesResolver extends KeyframeResolver{constructor(t,n,s,i,o){super(t,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let l=t[c];if(typeof l=="string"&&(l=l.trim(),isCSSVariableToken(l))){const u=getVariableValue(l,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(s)||t.length!==2)return;const[i,o]=t,r=findDimensionValueType(i),a=findDimensionValueType(o);if(r!==a)if(isNumOrPxType(r)&&isNumOrPxType(a))for(let c=0;c<t.length;c++){const l=t[c];typeof l=="string"&&(t[c]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)isNone(t[i])&&s.push(i);s.length&&makeNoneKeyframesAnimatable(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(s);o&&o.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=positionalValues[s](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,l])=>{n.getValue(c).set(l)}),this.resolveNoneKeyframes()}}const isAnimatable=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function canAnimate(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=isAnimatable(i,t),a=isAnimatable(o,t);return!r||!a?!1:hasKeyframesChanged(e)||(n==="spring"||isGenerator(n))&&s}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(isNotNull),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||s===void 0?i[o]:s}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:r,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:o,delay:r,onComplete:a,onUpdate:c,isGenerator:l}=this.options;if(!l&&!canAnimate(t,s,i,o))if(r)this.options.duration=0;else{c==null||c(getFinalKeyframe(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const mixNumber$1=(e,t,n)=>e+(t-e)*n;function hueToRgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslaToRgba({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,o=0,r=0;if(!t)i=o=r=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=hueToRgb(c,a,e+1/3),o=hueToRgb(c,a,e),r=hueToRgb(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:s}}function mixImmediate(e,t){return n=>n>0?t:e}const mixLinearColor=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(t=>t.test(e));function asRGBA(e){const t=getColorType(e);if(!t)return!1;let n=t.parse(e);return t===hsla&&(n=hslaToRgba(n)),n}const mixColor=(e,t)=>{const n=asRGBA(e),s=asRGBA(t);if(!n||!s)return mixImmediate(e,t);const i={...n};return o=>(i.red=mixLinearColor(n.red,s.red,o),i.green=mixLinearColor(n.green,s.green,o),i.blue=mixLinearColor(n.blue,s.blue,o),i.alpha=mixNumber$1(n.alpha,s.alpha,o),rgba.transform(i))},combineFunctions=(e,t)=>n=>t(e(n)),pipe=(...e)=>e.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,t){return invisibleValues.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mixNumber(e,t){return n=>mixNumber$1(e,t,n)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,t){const n=[...e],s=n.length,i=e.map((o,r)=>getMixer(o)(o,t[r]));return o=>{for(let r=0;r<s;r++)n[r]=i[r](o);return n}}function mixObject(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=getMixer(e[i])(e[i],t[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function matchOrder(e,t){var n;const s=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const r=t.types[o],a=e.indexes[r][i[r]],c=(n=e.values[a])!==null&&n!==void 0?n:0;s[o]=c,i[r]++}return s}const mixComplex=(e,t)=>{const n=complex.createTransformer(t),s=analyseComplexValue(e),i=analyseComplexValue(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?invisibleValues.has(e)&&!i.values.length||invisibleValues.has(t)&&!s.values.length?mixVisibility(e,t):pipe(mixArray(matchOrder(s,i),i.values),n):mixImmediate(e,t)};function mix(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?mixNumber$1(e,t,n):getMixer(e)(e,t)}const velocitySampleDuration=5;function calcGeneratorVelocity(e,t,n){const s=Math.max(t-velocitySampleDuration,0);return velocityPerSecond(n-e(s),t-s)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:t=springDefaults.bounce,velocity:n=springDefaults.velocity,mass:s=springDefaults.mass}){let i,o,r=1-t;r=clamp(springDefaults.minDamping,springDefaults.maxDamping,r),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),r<1?(i=l=>{const u=l*r,d=u*e,f=u-n,p=calcAngularFreq(l,r),h=Math.exp(-d);return safeMin-f/p*h},o=l=>{const d=l*r*e,f=d*n+n,p=Math.pow(r,2)*Math.pow(l,2)*e,h=Math.exp(-d),x=calcAngularFreq(Math.pow(l,2),r);return(-i(l)+safeMin>0?-1:1)*((f-p)*h)/x}):(i=l=>{const u=Math.exp(-l*e),d=(l-n)*e+1;return-.001+u*d},o=l=>{const u=Math.exp(-l*e),d=(n-l)*(e*e);return u*d});const a=5/e,c=approximateRoot(i,o,a);if(e=secondsToMilliseconds(e),isNaN(c))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const l=Math.pow(c,2)*s;return{stiffness:l,damping:r*2*Math.sqrt(s*l),duration:e}}}const rootIterations=12;function approximateRoot(e,t,n){let s=n;for(let i=1;i<rootIterations;i++)s=s-e(s)/t(s);return s}function calcAngularFreq(e,t){return e*Math.sqrt(1-t*t)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,t){return t.some(n=>e[n]!==void 0)}function getSpringOptions(e){let t={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:springDefaults.mass,stiffness:i,damping:o}}else{const n=findSpring(e);t={...t,...n,mass:springDefaults.mass},t.isResolvedFromDuration=!0}return t}function spring(e=springDefaults.visualDuration,t=springDefaults.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=getSpringOptions({...n,velocity:-millisecondsToSeconds(n.velocity||0)}),h=f||0,x=l/(2*Math.sqrt(c*u)),E=r-o,y=millisecondsToSeconds(Math.sqrt(c/u)),S=Math.abs(E)<5;s||(s=S?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),i||(i=S?springDefaults.restDelta.granular:springDefaults.restDelta.default);let v;if(x<1){const g=calcAngularFreq(y,x);v=R=>{const M=Math.exp(-x*y*R);return r-M*((h+x*y*E)/g*Math.sin(g*R)+E*Math.cos(g*R))}}else if(x===1)v=g=>r-Math.exp(-y*g)*(E+(h+y*E)*g);else{const g=y*Math.sqrt(x*x-1);v=R=>{const M=Math.exp(-x*y*R),j=Math.min(g*R,300);return r-M*((h+x*y*E)*Math.sinh(j)+g*E*Math.cosh(j))/g}}const P={calculatedDuration:p&&d||null,next:g=>{const R=v(g);if(p)a.done=g>=d;else{let M=0;x<1&&(M=g===0?secondsToMilliseconds(h):calcGeneratorVelocity(v,g,R));const j=Math.abs(M)<=s,I=Math.abs(r-R)<=i;a.done=j&&I}return a.value=a.done?r:R,a},toString:()=>{const g=Math.min(calcGeneratorDuration(P),maxGeneratorDuration),R=generateLinearEasing(M=>P.next(g*M).value,g,30);return g+"ms "+R}};return P}function inertia({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},p=j=>a!==void 0&&j<a||c!==void 0&&j>c,h=j=>a===void 0?c:c===void 0||Math.abs(a-j)<Math.abs(c-j)?a:c;let x=n*t;const E=d+x,y=r===void 0?E:r(E);y!==E&&(x=y-d);const S=j=>-x*Math.exp(-j/s),v=j=>y+S(j),P=j=>{const I=S(j),F=v(j);f.done=Math.abs(I)<=l,f.value=f.done?y:F};let g,R;const M=j=>{p(f.value)&&(g=j,R=spring({keyframes:[f.value,h(f.value)],velocity:calcGeneratorVelocity(v,j,f.value),damping:i,stiffness:o,restDelta:l,restSpeed:u}))};return M(0),{calculatedDuration:null,next:j=>{let I=!1;return!R&&g===void 0&&(I=!0,P(j),M(j)),g!==void 0&&j>=g?R.next(j-g):(!I&&P(j),f)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant(e.length===4);const[t,n,s,i]=e;return cubicBezier(t,n,s,i)}else if(typeof e=="string")return invariant(easingLookup[e]!==void 0),easingLookup[e];return e};function createMixers(e,t,n){const s=[],i=n||mix,o=e.length-1;for(let r=0;r<o;r++){let a=i(e[r],e[r+1]);if(t){const c=Array.isArray(t)?t[r]||noop:t;a=pipe(c,a)}s.push(a)}return s}function interpolate(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const o=e.length;if(invariant(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=createMixers(t,s,i),c=a.length,l=u=>{if(r&&u<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=progress(e[d],e[d+1],u);return a[d](f)};return n?u=>l(clamp(e[0],e[o-1],u)):l}function fillOffset(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=progress(0,t,s);e.push(mixNumber$1(n,1,i))}}function defaultOffset(e){const t=[0];return fillOffset(t,e.length-1),t}function convertOffsetToTimes(e,t){return e.map(n=>n*t)}function defaultEasing(e,t){return e.map(()=>t||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=isEasingArray(s)?s.map(easingDefinitionToFunction):easingDefinitionToFunction(s),o={done:!1,value:t[0]},r=convertOffsetToTimes(n&&n.length===t.length?n:defaultOffset(t),e),a=interpolate(r,t,{ease:Array.isArray(i)?i:defaultEasing(t,i)});return{calculatedDuration:e,next:c=>(o.value=a(c),o.done=c>=e,o)}}const frameloopDriver=e=>{const t=({timestamp:n})=>e(n);return{start:()=>frame.update(t,!0),stop:()=>cancelFrame(t),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=e=>e/100;class MainThreadAnimation extends BaseAnimation{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:i,keyframes:o}=this.options,r=(i==null?void 0:i.KeyframeResolver)||KeyframeResolver,a=(c,l)=>this.onKeyframesResolved(c,l);this.resolver=new r(o,a,n,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=this.options,a=isGenerator(n)?n:generators[n]||keyframes;let c,l;a!==keyframes&&typeof t[0]!="number"&&(c=pipe(percentToProgress,mix(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});o==="mirror"&&(l=a({...this.options,keyframes:[...t].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=calcGeneratorDuration(u));const{calculatedDuration:d}=u,f=d+i,p=f*(s+1)-i;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:r,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:l,totalDuration:u,resolvedDuration:d}=s;if(this.startTime===null)return o.next(0);const{delay:f,repeat:p,repeatType:h,repeatDelay:x,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),S=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let v=this.currentTime,P=o;if(p){const j=Math.min(this.currentTime,u)/d;let I=Math.floor(j),F=j%1;!F&&j>=1&&(F=1),F===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(h==="reverse"?(F=1-F,x&&(F-=x/d)):h==="mirror"&&(P=r)),v=clamp(0,1,F)*d}const g=S?{done:!1,value:c[0]}:P.next(v);a&&(g.value=a(g.value));let{done:R}=g;!S&&l!==null&&(R=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return M&&i!==void 0&&(g.value=getFinalKeyframe(c,this.options,i)),E&&E(g.value),M&&this.finish(),g}get duration(){const{resolved:t}=this;return t?millisecondsToSeconds(t.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(t){t=secondsToMilliseconds(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=frameloopDriver,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(e,t,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeInOut",times:c}={}){const l={[t]:n};c&&(l.offset=c);const u=mapEasingToNativeEasing(a,i);return Array.isArray(u)&&(l.easing=u),e.animate(l,{delay:s,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(e){return isGenerator(e.type)||e.type==="spring"||!isWaapiSupportedEasing(e.ease)}function pregenerateKeyframes(e,t){const n=new MainThreadAnimation({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const i=[];let o=0;for(;!s.done&&o<maxDuration;)s=n.sample(o),i.push(s.value),o+=sampleDelta;return{times:void 0,keyframes:i,duration:o-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(t){super(t);const{name:n,motionValue:s,element:i,keyframes:o}=this.options;this.resolver=new DOMKeyframesResolver(o,(r,a)=>this.onKeyframesResolved(r,a),n,s,i),this.resolver.scheduleResolve()}initPlayback(t,n){var s;let{duration:i=300,times:o,ease:r,type:a,motionValue:c,name:l,startTime:u}=this.options;if(!(!((s=c.owner)===null||s===void 0)&&s.current))return!1;if(typeof r=="string"&&supportsLinearEasing()&&isUnsupportedEase(r)&&(r=unsupportedEasingFunctions[r]),requiresPregeneratedKeyframes(this.options)){const{onComplete:f,onUpdate:p,motionValue:h,element:x,...E}=this.options,y=pregenerateKeyframes(t,E);t=y.keyframes,t.length===1&&(t[1]=t[0]),i=y.duration,o=y.times,r=y.ease,a="keyframes"}const d=startWaapiAnimation(c.owner.current,l,t,{...this.options,duration:i,times:o,ease:r});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(attachTimeline(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;c.set(getFinalKeyframe(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:o,type:a,ease:r,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return millisecondsToSeconds(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return millisecondsToSeconds(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=secondsToMilliseconds(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return noop;const{animation:s}=n;attachTimeline(s,t)}return noop}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:i,type:o,ease:r,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:u,onComplete:d,element:f,...p}=this.options,h=new MainThreadAnimation({...p,keyframes:s,duration:i,type:o,ease:r,times:a,isGenerator:!0}),x=secondsToMilliseconds(this.time);l.setWithVelocity(h.sample(x-sampleDelta).value,h.sample(x).value,sampleDelta)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:i,repeatType:o,damping:r,type:a}=t;return supportsWaapi()&&s&&acceleratedValues.has(s)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&o!=="mirror"&&r!==0&&a!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:t})=>t.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(t[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:c,elapsed:l,...u}){return!!Object.keys(u).length}const animateMotionValue=(e,t,n,s={},i,o)=>r=>{const a=getValueTransition(s,e)||{},c=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-secondsToMilliseconds(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};isTransitionDefined(a)||(u={...u,...getDefaultTransition(e,u)}),u.duration&&(u.duration=secondsToMilliseconds(u.duration)),u.repeatDelay&&(u.repeatDelay=secondsToMilliseconds(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!o&&t.get()!==void 0){const f=getFinalKeyframe(u.keyframes,a);if(f!==void 0)return frame.update(()=>{u.onUpdate(f),u.onComplete()}),new GroupPlaybackControls([])}return!o&&AcceleratedAnimation.supports(u)?new AcceleratedAnimation(u):new MainThreadAnimation(u)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function animateTarget(e,t,{delay:n=0,transitionOverride:s,type:i}={}){var o;let{transition:r=e.getDefaultTransition(),transitionEnd:a,...c}=t;s&&(r=s);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in c){const f=e.getValue(d,(o=e.latestValues[d])!==null&&o!==void 0?o:null),p=c[d];if(p===void 0||u&&shouldBlockAnimation(u,d))continue;const h={delay:n,...getValueTransition(r||{},d)};let x=!1;if(window.MotionHandoffAnimation){const y=getOptimisedAppearId(e);if(y){const S=window.MotionHandoffAnimation(y,d,frame);S!==null&&(h.startTime=S,x=!0)}}addValueToWillChange(e,d),f.start(animateMotionValue(d,f,p,e.shouldReduceMotion&&positionalKeys.has(d)?{type:!1}:h,e,x));const E=f.animation;E&&l.push(E)}return a&&Promise.all(l).then(()=>{frame.update(()=>{a&&setTarget(e,a)})}),l}function animateVariant(e,t,n={}){var s;const i=resolveVariant(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const r=i?()=>Promise.all(animateTarget(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return animateChildren(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[l,u]=c==="beforeChildren"?[r,a]:[a,r];return l().then(()=>u())}else return Promise.all([r(),a(n.delay)])}function animateChildren(e,t,n=0,s=0,i=1,o){const r=[],a=(e.variantChildren.size-1)*s,c=i===1?(l=0)=>l*s:(l=0)=>a-l*s;return Array.from(e.variantChildren).sort(sortByTreeOrder).forEach((l,u)=>{l.notify("AnimationStart",t),r.push(animateVariant(l,t,{...o,delay:n+c(u)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(r)}function sortByTreeOrder(e,t){return e.sortNodePosition(t)}function animateVisualElement(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(o=>animateVariant(e,o,n));s=Promise.all(i)}else if(typeof t=="string")s=animateVariant(e,t,n);else{const i=typeof t=="function"?resolveVariant(e,t,n.custom):t;s=Promise.all(animateTarget(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<numVariantProps;n++){const s=variantProps[n],i=e.props[s];(isVariantLabel(i)||i===!1)&&(t[s]=i)}return t}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return t=>Promise.all(t.map(({animation:n,options:s})=>animateVisualElement(e,n,s)))}function createAnimationState(e){let t=animateList(e),n=createState(),s=!0;const i=c=>(l,u)=>{var d;const f=resolveVariant(e,u,c==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:h,...x}=f;l={...l,...x,...h}}return l};function o(c){t=c(e)}function r(c){const{props:l}=e,u=getVariantContext(e.parent)||{},d=[],f=new Set;let p={},h=1/0;for(let E=0;E<numAnimationTypes;E++){const y=reversePriorityOrder[E],S=n[y],v=l[y]!==void 0?l[y]:u[y],P=isVariantLabel(v),g=y===c?S.isActive:null;g===!1&&(h=E);let R=v===u[y]&&v!==l[y]&&P;if(R&&s&&e.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...p},!S.isActive&&g===null||!v&&!S.prevProp||isAnimationControls(v)||typeof v=="boolean")continue;const M=checkVariantsDidChange(S.prevProp,v);let j=M||y===c&&S.isActive&&!R&&P||E>h&&P,I=!1;const F=Array.isArray(v)?v:[v];let W=F.reduce(i(y),{});g===!1&&(W={});const{prevResolvedValues:X={}}=S,Y={...X,...W},ee=$=>{j=!0,f.has($)&&(I=!0,f.delete($)),S.needsAnimating[$]=!0;const H=e.getValue($);H&&(H.liveStyle=!1)};for(const $ in Y){const H=W[$],q=X[$];if(p.hasOwnProperty($))continue;let K=!1;isKeyframesTarget(H)&&isKeyframesTarget(q)?K=!shallowCompare(H,q):K=H!==q,K?H!=null?ee($):f.add($):H!==void 0&&f.has($)?ee($):S.protectedKeys[$]=!0}S.prevProp=v,S.prevResolvedValues=W,S.isActive&&(p={...p,...W}),s&&e.blockInitialAnimation&&(j=!1),j&&(!(R&&M)||I)&&d.push(...F.map($=>({animation:$,options:{type:y}})))}if(f.size){const E={};f.forEach(y=>{const S=e.getBaseTarget(y),v=e.getValue(y);v&&(v.liveStyle=!0),E[y]=S??null}),d.push({animation:E})}let x=!!d.length;return s&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(x=!1),s=!1,x?t(d):Promise.resolve()}function a(c,l){var u;if(n[c].isActive===l)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,l)}),n[c].isActive=l;const d=r(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=createState(),s=!0}}}function checkVariantsDidChange(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!shallowCompare(t,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(t){this.isMounted=!1,this.node=t}update(){}}class AnimationFeature extends Feature{constructor(t){super(t),t.animationState||(t.animationState=createAnimationState(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();isAnimationControls(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>t=>isPrimaryPointer(t)&&e(t,extractEventInfo(t));function addPointerEvent(e,t,n,s){return addDomEvent(e,t,addPointerInfo(n),s)}const distance=(e,t)=>Math.abs(e-t);function distance2D(e,t){const n=distance(e.x,t.x),s=distance(e.y,t.y);return Math.sqrt(n**2+s**2)}class PanSession{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=getPanInfo(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=distance2D(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:h}=d,{timestamp:x}=frameData;this.history.push({...h,timestamp:x});const{onStart:E,onMove:y}=this.handlers;f||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=transformPoint(f,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:h,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=getPanInfo(d.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,E),h&&h(d,E)},!isPrimaryPointer(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const r=extractEventInfo(t),a=transformPoint(r,this.transformPagePoint),{point:c}=a,{timestamp:l}=frameData;this.history=[{...c,timestamp:l}];const{onSessionStart:u}=n;u&&u(t,getPanInfo(a,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,t){return t?{point:t(e.point)}:e}function subtractPoint(e,t){return{x:e.x-t.x,y:e.y-t.y}}function getPanInfo({point:e},t){return{point:e,delta:subtractPoint(e,lastDevicePoint(t)),offset:subtractPoint(e,startDevicePoint(t)),velocity:getVelocity(t,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=lastDevicePoint(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>secondsToMilliseconds(t)));)n--;if(!s)return{x:0,y:0};const o=millisecondsToSeconds(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,t,n){return Math.abs(e-t)<=n}function calcAxisDelta(e,t,n,s=.5){e.origin=s,e.originPoint=mixNumber$1(t.min,t.max,e.origin),e.scale=calcLength(n)/calcLength(t),e.translate=mixNumber$1(n.min,n.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,t,n,s){calcAxisDelta(e.x,t.x,n.x,s?s.originX:void 0),calcAxisDelta(e.y,t.y,n.y,s?s.originY:void 0)}function calcRelativeAxis(e,t,n){e.min=n.min+t.min,e.max=e.min+calcLength(t)}function calcRelativeBox(e,t,n){calcRelativeAxis(e.x,t.x,n.x),calcRelativeAxis(e.y,t.y,n.y)}function calcRelativeAxisPosition(e,t,n){e.min=t.min-n.min,e.max=e.min+calcLength(t)}function calcRelativePosition(e,t,n){calcRelativeAxisPosition(e.x,t.x,n.x),calcRelativeAxisPosition(e.y,t.y,n.y)}function applyConstraints(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?mixNumber$1(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?mixNumber$1(n,e,s.max):Math.min(e,n)),e}function calcRelativeAxisConstraints(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:t,left:n,bottom:s,right:i}){return{x:calcRelativeAxisConstraints(e.x,n,i),y:calcRelativeAxisConstraints(e.y,t,s)}}function calcViewportAxisConstraints(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function calcViewportConstraints(e,t){return{x:calcViewportAxisConstraints(e.x,t.x),y:calcViewportAxisConstraints(e.y,t.y)}}function calcOrigin(e,t){let n=.5;const s=calcLength(e),i=calcLength(t);return i>s?n=progress(t.min,t.max-s,e.min):s>i&&(n=progress(e.min,e.max-i,t.min)),clamp(0,1,n)}function rebaseAxisConstraints(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,t,n){return{min:resolvePointElastic(e,t),max:resolvePointElastic(e,n)}}function resolvePointElastic(e,t){return typeof e=="number"?e:e[t]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(e){return[e("x"),e("y")]}function convertBoundingBoxToBox({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function convertBoxToBoundingBox({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function transformBoxPoints(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:t,scaleY:n}){return!isIdentityScale(e)||!isIdentityScale(t)||!isIdentityScale(n)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,t,n){const s=e-n,i=t*s;return n+i}function applyPointDelta(e,t,n,s,i){return i!==void 0&&(e=scalePoint(e,i,s)),scalePoint(e,n,s)+t}function applyAxisDelta(e,t=0,n=1,s,i){e.min=applyPointDelta(e.min,t,n,s,i),e.max=applyPointDelta(e.max,t,n,s,i)}function applyBoxDelta(e,{x:t,y:n}){applyAxisDelta(e.x,t.translate,t.scale,t.originPoint),applyAxisDelta(e.y,n.translate,n.scale,n.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,r;for(let a=0;a<i;a++){o=n[a],r=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&transformBox(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,applyBoxDelta(e,r)),s&&hasTransform(o.latestValues)&&transformBox(e,o.latestValues))}t.x<TREE_SCALE_SNAP_MAX&&t.x>TREE_SCALE_SNAP_MIN&&(t.x=1),t.y<TREE_SCALE_SNAP_MAX&&t.y>TREE_SCALE_SNAP_MIN&&(t.y=1)}function translateAxis(e,t){e.min=e.min+t,e.max=e.max+t}function transformAxis(e,t,n,s,i=.5){const o=mixNumber$1(e.min,e.max,i);applyAxisDelta(e,t,n,o,s)}function transformBox(e,t){transformAxis(e.x,t.x,t.scaleX,t.scale,t.originX),transformAxis(e.y,t.y,t.scaleY,t.scale,t.originY)}function measureViewportBox(e,t){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),t))}function measurePageBox(e,t,n){const s=measureViewportBox(e,n),{scroll:i}=t;return i&&(translateAxis(s.x,i.offset.x),translateAxis(s.y,i.offset.y)),s}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(u).point)},o=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:h}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(E=>{let y=this.getAxisMotionValue(E).get()||0;if(percent.test(y)){const{projection:S}=this.visualElement;if(S&&S.layout){const v=S.layout.layoutBox[E];v&&(y=calcLength(v)*(parseFloat(y)/100))}}this.originPoint[E]=y}),h&&frame.postRender(()=>h(u,d)),addValueToWillChange(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},r=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:h,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=d;if(p&&this.currentDirection===null){this.currentDirection=getCurrentDirection(E),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",d.point,E),this.updateAxis("y",d.point,E),this.visualElement.render(),x&&x(u,d)},a=(u,d)=>this.stop(u,d),c=()=>eachAxis(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new PanSession(t,{onSessionStart:i,onStart:o,onMove:r,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:getContextWindow(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&frame.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!shouldDrag(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=applyConstraints(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&isRefObject(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=calcRelativeConstraints(i.layoutBox,n):this.constraints=!1,this.elastic=resolveDragElastic(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=rebaseAxisConstraints(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!isRefObject(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=measurePageBox(s,i.root,this.visualElement.getTransformPagePoint());let r=calcViewportConstraints(i.layout.layoutBox,o);if(n){const a=n(convertBoxToBoundingBox(r));this.hasMutatedConstraints=!!a,a&&(r=convertBoundingBoxToBox(a))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=eachAxis(u=>{if(!shouldDrag(u,n,this.currentDirection))return;let d=c[u]||{};r&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,h={type:"inertia",velocity:s?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,h)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return addValueToWillChange(this.visualElement,t),s.start(animateMotionValue(t,s,0,n,this.visualElement,!1))}stopAnimation(){eachAxis(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){eachAxis(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){eachAxis(n=>{const{drag:s}=this.getProps();if(!shouldDrag(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[n];o.set(t[n]-mixNumber$1(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!isRefObject(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};eachAxis(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const c=a.get();i[r]=calcOrigin({min:c,max:c},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),eachAxis(r=>{if(!shouldDrag(r,t,null))return;const a=this.getAxisMotionValue(r),{min:c,max:l}=this.constraints[r];a.set(mixNumber$1(c,l,i[r]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const t=this.visualElement.current,n=addPointerEvent(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();isRefObject(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),frame.read(s);const r=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(eachAxis(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())});return()=>{r(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=defaultElastic,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function shouldDrag(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function getCurrentDirection(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class DragGesture extends Feature{constructor(t){super(t),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(t,n)=>{e&&frame.postRender(()=>e(t,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(t){this.session=new PanSession(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:asyncHandler(t),onStart:asyncHandler(n),onMove:s,onEnd:(o,r)=>{delete this.session,i&&frame.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const correctBorderRadius={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const n=pixelsToPercent(e,t.target.x),s=pixelsToPercent(e,t.target.y);return`${n}% ${s}%`}},correctBoxShadow={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=complex.parse(e);if(i.length>5)return s;const o=complex.createTransformer(e),r=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+r]/=a,i[1+r]/=c;const l=mixNumber$1(a,c,.5);return typeof i[2+r]=="number"&&(i[2+r]/=l),typeof i[3+r]=="number"&&(i[3+r]/=l),o(i)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;addScaleCorrector(defaultScaleCorrectors),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,r=s.projection;return r&&(r.isPresent=o,i||t.layoutDependency!==n||n===void 0?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||frame.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),microtask.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function MeasureLayout(e){const[t,n]=usePresence(),s=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:s,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:t,safeToRemove:n})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(e,t,n){const s=isMotionValue(e)?e:motionValue(e);return s.start(animateMotionValue("",s,t,n)),s.animation}function isSVGElement(e){return e instanceof SVGElement&&e.tagName!=="svg"}const compareByDepth=(e,t)=>e.depth-t.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(t){addUniqueItem(this.children,t),this.isDirty=!0}remove(t){removeItem(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(t)}}function delay(e,t){const n=time.now(),s=({timestamp:i})=>{const o=i-n;o>=t&&(cancelFrame(s),e(o-t))};return frame.read(s,!0),()=>cancelFrame(s)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,t,n,s,i,o){i?(e.opacity=mixNumber$1(0,n.opacity!==void 0?n.opacity:1,easeCrossfadeIn(s)),e.opacityExit=mixNumber$1(t.opacity!==void 0?t.opacity:1,0,easeCrossfadeOut(s))):o&&(e.opacity=mixNumber$1(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let r=0;r<numBorders;r++){const a=`border${borders[r]}Radius`;let c=getRadius(t,a),l=getRadius(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||isPx(c)===isPx(l)?(e[a]=Math.max(mixNumber$1(asNumber(c),asNumber(l),s),0),(percent.test(l)||percent.test(c))&&(e[a]+="%")):e[a]=l}(t.rotate||n.rotate)&&(e.rotate=mixNumber$1(t.rotate||0,n.rotate||0,s))}function getRadius(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(e,t,n){return s=>s<e?0:s>t?1:n(progress(e,t,s))}function copyAxisInto(e,t){e.min=t.min,e.max=t.max}function copyBoxInto(e,t){copyAxisInto(e.x,t.x),copyAxisInto(e.y,t.y)}function copyAxisDeltaInto(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function removePointDelta(e,t,n,s,i){return e-=t,e=scalePoint(e,1/n,s),i!==void 0&&(e=scalePoint(e,1/i,s)),e}function removeAxisDelta(e,t=0,n=1,s=.5,i,o=e,r=e){if(percent.test(t)&&(t=parseFloat(t),t=mixNumber$1(r.min,r.max,t/100)-r.min),typeof t!="number")return;let a=mixNumber$1(o.min,o.max,s);e===o&&(a-=t),e.min=removePointDelta(e.min,t,n,a,i),e.max=removePointDelta(e.max,t,n,a,i)}function removeAxisTransforms(e,t,[n,s,i],o,r){removeAxisDelta(e,t[n],t[s],t[i],t.scale,o,r)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,t,n,s){removeAxisTransforms(e.x,t,xKeys,n?n.x:void 0,s?s.x:void 0),removeAxisTransforms(e.y,t,yKeys,n?n.y:void 0,s?s.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,t){return e.min===t.min&&e.max===t.max}function boxEquals(e,t){return axisEquals(e.x,t.x)&&axisEquals(e.y,t.y)}function axisEqualsRounded(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function boxEqualsRounded(e,t){return axisEqualsRounded(e.x,t.x)&&axisEqualsRounded(e.y,t.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class NodeStack{constructor(){this.members=[]}add(t){addUniqueItem(this.members,t),t.scheduleRender()}remove(t){if(removeItem(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,t,n){let s="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(n==null?void 0:n.z)||0;if((i||o||r)&&(s=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:h}=n;l&&(s=`perspective(${l}px) ${s}`),u&&(s+=`rotate(${u}deg) `),d&&(s+=`rotateX(${d}deg) `),f&&(s+=`rotateY(${f}deg) `),p&&(s+=`skewX(${p}deg) `),h&&(s+=`skewY(${h}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(s+=`scale(${a}, ${c})`),s||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=getOptimisedAppearId(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",frame,!(i||o))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(s)}function createProjectionNode({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},a=t==null?void 0:t()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new SubscriptionManager),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const c=this.eventHandlers.get(r);c&&c.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(r),this.instance=r;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(r,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=delay(f,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:E,onLayoutAnimationComplete:y}=u.getProps(),S=!this.targetLayout||!boxEqualsRounded(this.targetLayout,h)||p,v=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,v);const P={...getValueTransition(x,"layout"),onPlay:E,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else f||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const a=time.now();frameData.delta=clamp(0,1e3/60,a-frameData.timestamp),frameData.timestamp=a,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!isDeltaZero(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;r&&(a||hasTransform(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return r&&(c=this.removeTransform(c)),roundBox(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var r;const{visualElement:a}=this.options;if(!a)return createBox();const c=a.measureViewportBox();if(!(((r=this.scroll)===null||r===void 0?void 0:r.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:u}=this.root;u&&(translateAxis(c.x,u.offset.x),translateAxis(c.y,u.offset.y))}return c}removeElementScroll(r){var a;const c=createBox();if(copyBoxInto(c,r),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&copyBoxInto(c,r),translateAxis(c.x,d.offset.x),translateAxis(c.y,d.offset.y))}return c}applyTransform(r,a=!1){const c=createBox();copyBoxInto(c,r);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&transformBox(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hasTransform(u.latestValues)&&transformBox(c,u.latestValues)}return hasTransform(this.latestValues)&&transformBox(c,this.latestValues),c}removeTransform(r){const a=createBox();copyBoxInto(a,r);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!hasTransform(l.latestValues))continue;hasScale(l.latestValues)&&l.updateSnapshot();const u=createBox(),d=l.measurePageBox();copyBoxInto(u,d),removeBoxTransforms(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return hasTransform(this.latestValues)&&removeBoxTransforms(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,p.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var r;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=createBox());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),r){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(r,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},d=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=createBox(),p=c?c.source:void 0,h=this.layout?this.layout.source:void 0,x=p!==h,E=this.getStack(),y=!E||E.members.length<=1,S=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let v;this.mixTargetDelta=P=>{const g=P/1e3;mixAxisDelta(d.x,r.x,g),mixAxisDelta(d.y,r.y,g),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,f,g),v&&boxEquals(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=createBox()),copyBoxInto(v,this.relativeTarget)),x&&(this.animationValues=u,mixValues(u,l,this.latestValues,g,S,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=g},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...r,onUpdate:a=>{this.mixTargetDelta(a),r.onUpdate&&r.onUpdate(a)},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=r;if(!(!a||!c||!l)){if(this!==r&&this.layout&&l&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||createBox();const d=calcLength(this.layout.layoutBox.x);c.x.min=r.target.x.min,c.x.max=c.x.min+d;const f=calcLength(this.layout.layoutBox.y);c.y.min=r.target.y.min,c.y.max=c.y.min+f}copyBoxInto(a,c),transformBox(a,u),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new NodeStack),this.sharedNodes.get(r).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var r;const{layoutId:a}=this.options;return a?((r=this.getStack())===null||r===void 0?void 0:r.lead)||this:this}getPrevLead(){var r;const{layoutId:a}=this.options;return a?(r=this.getStack())===null||r===void 0?void 0:r.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:c}=r;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&resetDistortingTransform("z",r,l,this.animationValues);for(let u=0;u<transformAxes.length;u++)resetDistortingTransform(`rotate${transformAxes[u]}`,r,l,this.animationValues),resetDistortingTransform(`skew${transformAxes[u]}`,r,l,this.animationValues);r.render();for(const u in l)r.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);r.scheduleRender()}getProjectionStyles(r){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=resolveMotionValue(r==null?void 0:r.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=resolveMotionValue(r==null?void 0:r.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:p,y:h}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${h.origin*100}% 0`,d.animationValues?l.opacity=d===this?(c=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in scaleCorrectors){if(f[x]===void 0)continue;const{correct:E,applyTo:y}=scaleCorrectors[x],S=l.transform==="none"?f[x]:E(f[x],d);if(y){const v=y.length;for(let P=0;P<v;P++)l[y[P]]=S}else l[x]=S}return this.options.layoutId&&(l.pointerEvents=d===this?resolveMotionValue(r==null?void 0:r.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var a;return(a=r.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,r=n.source!==e.layout.source;o==="size"?eachAxis(d=>{const f=r?n.measuredBox[d]:n.layoutBox[d],p=calcLength(f);f.min=s[d].min,f.max=f.min+p}):shouldAnimatePositionOnly(o,n.layoutBox,s)&&eachAxis(d=>{const f=r?n.measuredBox[d]:n.layoutBox[d],p=calcLength(s[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const a=createDelta();calcBoxDelta(a,s,n.layoutBox);const c=createDelta();r?calcBoxDelta(c,e.applyTransform(i,!0),n.measuredBox):calcBoxDelta(c,s,n.layoutBox);const l=!isDeltaZero(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const h=createBox();calcRelativePosition(h,n.layoutBox,f.layoutBox);const x=createBox();calcRelativePosition(x,s,p.layoutBox),boxEqualsRounded(h,x)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=h,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function propagateDirtyNodes(e){isDebug&&metrics.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,t,n){e.translate=mixNumber$1(t.translate,0,n),e.scale=mixNumber$1(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mixAxis(e,t,n,s){e.min=mixNumber$1(t.min,n.min,s),e.max=mixNumber$1(t.max,n.max,s)}function mixBox(e,t,n,s){mixAxis(e.x,t.x,n.x,s),mixAxis(e.y,t.y,n.y,s)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,t,n){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(t),aspectRatio(n),.2)}function checkNodeWasScrollRoot(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,t)=>addDomEvent(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&frame.postRender(()=>o(t,extractEventInfo(t)))}class HoverGesture extends Feature{mount(){const{current:t}=this.node;t&&(this.unmount=hover(t,n=>(handleHoverEvent(this.node,n,"Start"),s=>handleHoverEvent(this.node,s,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,t,n){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&frame.postRender(()=>o(t,extractEventInfo(t)))}class PressGesture extends Feature{mount(){const{current:t}=this.node;t&&(this.unmount=press(t,n=>(handlePressEvent(this.node,n,"Start"),(s,{success:i})=>handlePressEvent(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const t=observerCallbacks.get(e.target);t&&t(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...t}){const n=e||document;observers.has(n)||observers.set(n,{});const s=observers.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...t})),s[i]}function observeIntersection(e,t,n){const s=initIntersectionObserver(t);return observerCallbacks.set(e,n),s.observe(e),()=>{observerCallbacks.delete(e),s.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:thresholdNames[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,o&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=l?u:d;f&&f(c)};return observeIntersection(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(t,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>prefersReducedMotion.current=e.matches;e.addListener(t),t()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=e=>valueTypes.find(testValueType(e)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,t,n){for(const s in t){const i=t[s],o=n[s];if(isMotionValue(i))e.addValue(s,i);else if(isMotionValue(o))e.addValue(s,motionValue(i,{owner:e}));else if(o!==i)if(e.hasValue(s)){const r=e.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(s);e.addValue(s,motionValue(r!==void 0?r:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=time.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,frame.render(this.render,!1,!0))};const{latestValues:c,renderState:l,onUpdate:u}=r;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const h=f[p];c[p]!==void 0&&isMotionValue(h)&&h.set(c[p],!1)}}mount(t){this.current=t,visualElementStore.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=transformProps.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&frame.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in featureDefinitions){const n=featureDefinitions[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<propEventHandlers.length;s++){const i=propEventHandlers[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=motionValue(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(isNumericalString(i)||isZeroValueString(i))?i=parseFloat(i):!findValueType(i)&&complex.test(n)&&(i=getAnimatableNone(t,n)),this.setBaseTarget(t,isMotionValue(i)?i.get():i)),isMotionValue(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const r=resolveVariantFromProps(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);r&&(i=r[t])}if(s&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!isMotionValue(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new SubscriptionManager),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;isMotionValue(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function getComputedStyle(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(t,n){if(transformProps.has(n)){const s=getDefaultValueType(n);return s&&s.default||0}else{const s=getComputedStyle(t),i=(isCSSVariableName(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return measureViewportBox(t,n)}build(t,n,s){buildHTMLStyles(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return scrapeMotionValuesFromProps$1(t,n,s)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(transformProps.has(n)){const s=getDefaultValueType(n);return s&&s.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return scrapeMotionValuesFromProps(t,n,s)}build(t,n,s){buildSVGAttrs(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,i){renderSVG(t,n,s,i)}mount(t){this.isSVGTag=isSVGTag(t.tagName),super.mount(t)}}const createDomVisualElement=(e,t)=>isSVGComponent(e)?new SVGVisualElement(t):new HTMLVisualElement(t,{allowProjection:e!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent),LoadingSpinner=({size:e=40,color:t="#4CAF50"})=>jsxRuntimeExports.jsx(Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",padding:2},children:jsxRuntimeExports.jsx(motion.div,{style:{width:e,height:e,border:`4px solid ${t}`,borderTop:"4px solid transparent",borderRadius:"50%"},animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}),CelebrationEffect=({show:e,message:t,points:n,onComplete:s})=>jsxRuntimeExports.jsx(AnimatePresence,{onExitComplete:s,children:e&&jsxRuntimeExports.jsx(Box,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1e3},children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.5},children:[jsxRuntimeExports.jsx(Typography,{variant:"h2",sx:{color:"#FFD700",textShadow:"2px 2px 4px rgba(0,0,0,0.5)",marginBottom:2,textAlign:"center"},children:t}),jsxRuntimeExports.jsx(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:jsxRuntimeExports.jsxs(Typography,{variant:"h4",sx:{color:"#4CAF50",textAlign:"center"},children:["+",n," Points!"]})})]})})}),DamageEffect=({show:e,damage:t,position:n,onComplete:s})=>jsxRuntimeExports.jsx(AnimatePresence,{onExitComplete:s,children:e&&jsxRuntimeExports.jsx(Box,{sx:{position:"absolute",left:n.x,top:n.y,pointerEvents:"none"},children:jsxRuntimeExports.jsx(motion.div,{initial:{y:0,opacity:1,scale:1},animate:{y:-50,opacity:0,scale:1.5},exit:{opacity:0},transition:{duration:.8},children:jsxRuntimeExports.jsxs(Typography,{variant:"h4",sx:{color:"#FF4444",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:["-",t]})})})}),LevelUpEffect=({show:e,level:t,onComplete:n})=>jsxRuntimeExports.jsx(AnimatePresence,{onExitComplete:n,children:e&&jsxRuntimeExports.jsxs(Box,{component:motion.div,initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},transition:{duration:.5},sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9999},children:[jsxRuntimeExports.jsx(Typography,{component:motion.h1,initial:{y:-50},animate:{y:0},exit:{y:50},sx:{color:"#FFD700",fontSize:"4rem",fontWeight:"bold",textShadow:"0 0 10px rgba(255, 215, 0, 0.5)",marginBottom:2},children:"LEVEL UP!"}),jsxRuntimeExports.jsxs(Typography,{component:motion.h2,initial:{scale:0},animate:{scale:1},exit:{scale:0},sx:{color:"#FFF",fontSize:"3rem",fontWeight:"bold"},children:["Level ",t]})]})});var ExpandMore={},createSvgIcon={};const require$$0=getAugmentedNamespace(utils);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=require$$0}(createSvgIcon)),createSvgIcon}var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(ExpandMore,"__esModule",{value:!0});var default_1=ExpandMore.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports;default_1=ExpandMore.default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const defaultBosses={easy:{name:"見習い魔法使いのボス",maxHp:1e3,currentHp:1e3,image:"🧙‍♂️"},medium:{name:"上級魔法使いのボス",maxHp:2e3,currentHp:2e3,image:"🧙‍♀️"},hard:{name:"大魔法使いのボス",maxHp:3e3,currentHp:3e3,image:"🧙‍♂️✨"}},GamePage=()=>{var pe;const{addExperience:e,currentLevel:t}=useLevel(),{progress:n,completeChallenge:s,updateBossHp:i,resetProgress:o,resetDifficulty:r}=useProgress(),{explanation:a,setExplanation:c,solution:l,setSolution:u,hintSystem:d,setHintSystem:f,unlockHint:p}=useLearning(),[h,x]=reactExports.useState(t),E=reactExports.useMemo(()=>({easy:[{id:"1",title:"魔法の数字（足し算）",description:"与えられた2つの数字を足し算する魔法の関数を完成させましょう！",difficulty:"easy",points:100,hint:"+ 演算子を使って2つの数を足し合わせましょう",initialCode:`function magicAdd(a, b) {
  // ここにコードを書いてください
  
}`,testCases:[{input:[1,2],expected:3},{input:[5,3],expected:8},{input:[10,-5],expected:5}]},{id:"2",title:"魔法の数字（掛け算）",description:"2つの数字を掛け合わせる魔法の関数を作りましょう！",difficulty:"easy",points:150,hint:"* 演算子を使って2つの数を掛け合わせましょう",initialCode:`function magicMultiply(a, b) {
  // ここにコードを書いてください
  
}`,testCases:[{input:[2,3],expected:6},{input:[4,5],expected:20},{input:[-2,3],expected:-6}]},{id:"3",title:"魔法の文字列",description:"2つの文字列を結合する魔法の関数を作りましょう！",difficulty:"easy",points:120,hint:"+ 演算子または concat() メソッドを使って文字列を結合できます",initialCode:`function magicConcat(str1, str2) {
  // ここにコードを書いてください
  
}`,testCases:[{input:["Hello","World"],expected:"HelloWorld"},{input:["Magic","Spell"],expected:"MagicSpell"},{input:["","Test"],expected:"Test"}]},{id:"10",title:"魔法の文字変換",description:"文字列を大文字に変換する魔法の関数を作りましょう！",difficulty:"easy",points:130,hint:"toUpperCase() メソッドを使うと文字列を大文字に変換できます",initialCode:`function magicUpperCase(text) {
  // ここにコードを書いてください
  
}`,testCases:[{input:["hello"],expected:"HELLO"},{input:["Magic"],expected:"MAGIC"},{input:["JavaScript"],expected:"JAVASCRIPT"}]},{id:"11",title:"魔法の長さ測定",description:"文字列の長さを計測する魔法の関数を作りましょう！",difficulty:"easy",points:110,hint:"length プロパティを使うと文字列の長さを取得できます",initialCode:`function magicLength(text) {
  // ここにコードを書いてください
  
}`,testCases:[{input:["hello"],expected:5},{input:[""],expected:0},{input:["魔法"],expected:2}]}],medium:[{id:"4",title:"魔法の配列（合計）",description:"配列の中の数字を全て足し合わせる魔法の関数を作りましょう！",difficulty:"medium",points:200,hint:"reduce メソッドを使うと配列の要素を集約できます",initialCode:`function magicSum(numbers) {
  // ここにコードを書いてください
  
}`,testCases:[{input:[[1,2,3]],expected:6},{input:[[5,-2,7,0]],expected:10},{input:[[]],expected:0}]},{id:"5",title:"魔法の配列（最大値）",description:"配列の中から最大の数を見つける魔法の関数を作りましょう！",difficulty:"medium",points:250,hint:"Math.max() と spread 演算子を組み合わせると便利です",initialCode:`function magicMax(numbers) {
  // ここにコードを書いてください
  
}`,testCases:[{input:[[1,5,3]],expected:5},{input:[[-1,-5,-3]],expected:-1},{input:[[0]],expected:0}]},{id:"6",title:"魔法のフィルター",description:"配列から偶数のみを抽出する魔法の関数を作りましょう！",difficulty:"medium",points:230,hint:"filter メソッドと剰余演算子(%)を使うとよいでしょう",initialCode:`function magicFilter(numbers) {
  // ここにコードを書いてください
  
}`,testCases:[{input:[[1,2,3,4]],expected:[2,4]},{input:[[5,7,9]],expected:[]},{input:[[2,4,6]],expected:[2,4,6]}]},{id:"12",title:"魔法の配列（重複除去）",description:"配列から重複する要素を取り除く魔法の関数を作りましょう！",difficulty:"medium",points:220,hint:"Set オブジェクトを使うと重複を簡単に除去できます",initialCode:`function magicUnique(numbers) {
  // ここにコードを書いてください
  
}`,testCases:[{input:[[1,2,2,3,3,4]],expected:[1,2,3,4]},{input:[[5,5,5]],expected:[5]},{input:[[1,2,3]],expected:[1,2,3]}]},{id:"13",title:"魔法の平均値",description:"配列の平均値を計算する魔法の関数を作りましょう！",difficulty:"medium",points:240,hint:"合計を要素数で割ると平均値が求められます",initialCode:`function magicAverage(numbers) {
  // ここにコードを書いてください
  
}`,testCases:[{input:[[1,2,3]],expected:2},{input:[[10,20,30,40]],expected:25},{input:[[0,0,0]],expected:0}]}],hard:[{id:"7",title:"魔法の回文",description:"与えられた文字列が回文かどうかを判定する魔法の関数を作りましょう！",difficulty:"hard",points:300,hint:"文字列を反転させて比較すると判定できます",initialCode:`function magicPalindrome(text) {
  // ここにコードを書いてください
  
}`,testCases:[{input:["level"],expected:!0},{input:["hello"],expected:!1},{input:[""],expected:!0}]},{id:"8",title:"魔法のソート",description:"数字の配列を小さい順に並び替える魔法の関数を作りましょう！",difficulty:"hard",points:350,hint:"バブルソートやクイックソートなどのアルゴリズムを実装してみましょう",initialCode:`function magicSort(numbers) {
  // ここにコードを書いてください
  
}`,testCases:[{input:[[3,1,4]],expected:[1,3,4]},{input:[[5,2,8,1]],expected:[1,2,5,8]},{input:[[]],expected:[]}]},{id:"9",title:"魔法のアナグラム",description:"2つの文字列がアナグラムかどうかを判定する魔法の関数を作りましょう！",difficulty:"hard",points:400,hint:"文字列をソートして比較すると判定できます",initialCode:`function magicAnagram(str1, str2) {
  // ここにコードを書いてください
  
}`,testCases:[{input:["listen","silent"],expected:!0},{input:["hello","world"],expected:!1},{input:["",""],expected:!0}]},{id:"14",title:"魔法の文字列圧縮",description:"連続する文字を圧縮する魔法の関数を作りましょう！例：aabbbcccc → a2b3c4",difficulty:"hard",points:380,hint:"文字の出現回数をカウントして、文字と数字を組み合わせましょう",initialCode:`function magicCompress(text) {
  // ここにコードを書いてください
  
}`,testCases:[{input:["aabbbcccc"],expected:"a2b3c4"},{input:["aaa"],expected:"a3"},{input:["abcd"],expected:"a1b1c1d1"}]},{id:"15",title:"魔法の階段",description:"数値nを受け取り、n段の階段パターンを作る魔法の関数を作りましょう！",difficulty:"hard",points:420,hint:"文字列の繰り返しとループを組み合わせて階段を作りましょう",initialCode:`function magicStairs(n) {
  // ここにコードを書いてください
  
}`,testCases:[{input:[3],expected:["  *"," **","***"]},{input:[1],expected:["*"]},{input:[2],expected:[" *","**"]}]}]}),[]),[y,S]=reactExports.useState(defaultBosses);reactExports.useEffect(()=>{n!=null&&n.bossesState&&S(n.bossesState)},[n]);const[v,P]=reactExports.useState("easy"),[g,R]=reactExports.useState(null),[M,j]=reactExports.useState(""),[I,F]=reactExports.useState([]),[W,X]=reactExports.useState(!1),[Y,ee]=reactExports.useState(!1),[z,te]=reactExports.useState(0),[$,H]=reactExports.useState([]),[q,K]=reactExports.useState(!1),[re,oe]=reactExports.useState(!1),[b,A]=reactExports.useState({x:0,y:0}),[D,V]=reactExports.useState(!1),[U,Z]=reactExports.useState(!1),[G,Q]=reactExports.useState("all"),[ne,se]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{try{if(se(!0),n&&n.completedChallenges&&n.totalPoints&&n.bossesState&&(te(n.totalPoints),H(n.completedChallenges),S(n.bossesState)),E&&v&&E[v]){const T=E[v];if(T&&T.length>0){const O=T[0];R(O),j(O.initialCode||"");const _=getQuestLearningData(O.id);if(_){const{explanation:N,solution:le,hints:ce}=_;c(N),u({...le,alternatives:le.alternatives.map(ie=>({description:ie.description,code:ie.code}))}),f(ce.map(ie=>({level:ie.level,content:ie.content,cost:ie.cost,unlocked:!1})))}}}}catch(T){console.error("Initialization error:",T)}finally{se(!1)}})()},[n,E,v]);const de=L=>Math.floor(L*1.5),me=(L,T)=>{if(!E||!E[T]){console.error("Challenges not properly initialized");return}P(T);const O=E[T];if(O&&O.length>0){const _=O[0];R(_),j(_.initialCode||"")}},ge=L=>{const T=L.target.value;if(!E||!E[v]){console.error("Challenges not properly initialized");return}const _=E[v].find(N=>N.id===T);_&&(R(_),j(_.initialCode||""))};reactExports.useEffect(()=>{if(q){const L=setTimeout(()=>{K(!1)},3e3);return()=>{clearTimeout(L),K(!1)}}},[q]);const xe=async()=>{X(!0),F([]);let L=!0;const T=[];try{for(const O of g.testCases){const _=await executeCode(M,O.input,O.expected);T.push(_),_.success||(L=!1)}if(F(T),L){const O=de(g.points),_=document.querySelector(".boss-image");if(_){const N=_.getBoundingClientRect();A({x:N.left+N.width/2,y:N.top+N.height/2})}oe(!0),await i(v,O),S(N=>({...N,[v]:{...N[v],currentHp:Math.max(0,N[v].currentHp-O)}})),H(N=>[...N,g.id]),te(N=>N+g.points),fe(g),K(!0)}}catch(O){O instanceof Error?F([{success:!1,message:O.message}]):F([{success:!1,message:"An unknown error occurred"}])}finally{X(!1)}},ue=L=>{const T=L.currentHp/L.maxHp*100;let O="";return L.currentHp===0?O="倒れた！":T<=25?O="瀕死":T<=50?O="苦戦中":T<=75?O="余裕がある":O="健在",O},fe=L=>{let T=0;switch(L.difficulty){case"easy":T=50;break;case"medium":T=100;break;case"hard":T=200;break}Y||(T*=1.25),e(Math.floor(T))},ae=()=>{G==="all"?(o(),te(0),H([]),S(defaultBosses)):(r(v),S(L=>({...L,[v]:defaultBosses[v]})),H(L=>L.filter(T=>{const O=v==="easy"?"1":v==="medium"?"4":"7";return!(T.startsWith(O)||v==="easy"&&(T==="2"||T==="3"||T==="10"||T==="11")||v==="medium"&&(T==="5"||T==="6"||T==="12"||T==="13")||v==="hard"&&(T==="8"||T==="9"||T==="14"||T==="15"))}))),R(E[v][0]),j(E[v][0].initialCode),F([]),ee(!1),Z(!1)};return reactExports.useEffect(()=>{if(h>t){x(t),V(!0);const L=setTimeout(()=>{V(!1)},3e3);return()=>{clearTimeout(L),V(!1)}}},[h,t]),ne?jsxRuntimeExports.jsxs(Box,{sx:{position:"relative",minHeight:"100vh"},children:[jsxRuntimeExports.jsx(MagicBackground,{}),jsxRuntimeExports.jsx(MagicParticles,{}),jsxRuntimeExports.jsxs(Box,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[jsxRuntimeExports.jsx(LoadingSpinner,{}),jsxRuntimeExports.jsx(Typography,{variant:"h6",sx:{mt:2},children:"魔法の世界を準備中..."})]})]}):jsxRuntimeExports.jsxs(Box,{sx:{position:"relative",minHeight:"100vh"},children:[jsxRuntimeExports.jsx(MagicBackground,{}),jsxRuntimeExports.jsx(MagicParticles,{}),jsxRuntimeExports.jsx(LevelDisplay,{}),W&&jsxRuntimeExports.jsx(LoadingSpinner,{}),jsxRuntimeExports.jsx(CelebrationEffect,{show:q,message:"クエスト完了！",points:(g==null?void 0:g.points)||0,onComplete:()=>K(!1)}),jsxRuntimeExports.jsx(DamageEffect,{show:re,damage:de((g==null?void 0:g.points)||0),position:b,onComplete:()=>oe(!1)}),jsxRuntimeExports.jsx(LevelUpEffect,{show:D,level:h,onComplete:()=>V(!1)}),jsxRuntimeExports.jsxs(Container,{maxWidth:"lg",sx:{pt:4,pb:4},children:[jsxRuntimeExports.jsxs(Box,{sx:{textAlign:"center",mb:4},children:[jsxRuntimeExports.jsx(Typography,{variant:"h2",component:"h1",sx:{fontWeight:"bold",background:"linear-gradient(45deg, #FF6B6B, #4ECDC4)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",textShadow:"2px 2px 4px rgba(0,0,0,0.1)",mb:1},children:"魔法使いの修行場"}),jsxRuntimeExports.jsx(Typography,{variant:"h5",color:"textSecondary",sx:{fontStyle:"italic",mb:3},children:"〜 Magic Code Learning 〜"})]}),jsxRuntimeExports.jsx(Box,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:jsxRuntimeExports.jsxs(Tabs,{value:v,onChange:me,centered:!0,children:[jsxRuntimeExports.jsx(Tab,{label:"初級",value:"easy"}),jsxRuntimeExports.jsx(Tab,{label:"中級",value:"medium"}),jsxRuntimeExports.jsx(Tab,{label:"上級",value:"hard"})]})}),jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:3,mb:3,backgroundColor:"rgba(255, 255, 255, 0.9)"},children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"h5",component:"span",children:y[v].image}),jsxRuntimeExports.jsx(Typography,{variant:"h5",component:"span",sx:{fontWeight:"bold"},children:y[v].name}),jsxRuntimeExports.jsxs(Typography,{variant:"body1",color:"textSecondary",children:["状態: ",ue(y[v])]})]}),jsxRuntimeExports.jsxs(Box,{sx:{width:"100%",bgcolor:"grey.300",borderRadius:1,height:20,position:"relative"},children:[jsxRuntimeExports.jsx(Box,{sx:{width:`${y[v].currentHp/y[v].maxHp*100}%`,bgcolor:"error.main",height:"100%",borderRadius:1,transition:"width 0.5s ease-in-out"}}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",textShadow:"1px 1px 2px black"},children:["HP: ",y[v].currentHp," / ",y[v].maxHp]})]})]}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[jsxRuntimeExports.jsxs(FormControl,{fullWidth:!0,sx:{mb:2},children:[jsxRuntimeExports.jsx(InputLabel,{children:"Challenge"}),jsxRuntimeExports.jsx(Select,{value:(g==null?void 0:g.id)||"",onChange:ge,label:"Challenge",children:E&&E[v]&&Array.isArray(E[v])&&E[v].map(L=>{var T,O;return jsxRuntimeExports.jsxs(MenuItem,{value:L.id,disabled:(T=n==null?void 0:n.completedChallenges)==null?void 0:T.includes(L.id),children:[L.title," ",(O=n==null?void 0:n.completedChallenges)!=null&&O.includes(L.id)?"(Completed)":""]},L.id)})})]}),jsxRuntimeExports.jsxs(Typography,{variant:"h6",color:"primary",children:["総ポイント: ",z]})]}),jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:3,mb:3,backgroundColor:"rgba(255, 255, 255, 0.9)"},children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"h4",component:"h1",children:g==null?void 0:g.title}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",gap:2},children:[jsxRuntimeExports.jsxs(Typography,{variant:"body2",color:"textSecondary",children:["難易度: ",g==null?void 0:g.difficulty]}),jsxRuntimeExports.jsxs(Typography,{variant:"body2",color:"textSecondary",children:["ポイント: ",g==null?void 0:g.points]})]})]}),jsxRuntimeExports.jsx(Typography,{variant:"body1",paragraph:!0,children:g==null?void 0:g.description}),(g==null?void 0:g.hint)&&jsxRuntimeExports.jsxs(Box,{sx:{mt:2},children:[jsxRuntimeExports.jsx(Button,{variant:"outlined",size:"small",onClick:()=>ee(!Y),children:Y?"ヒントを隠す":"ヒントを表示"}),Y&&jsxRuntimeExports.jsxs(Typography,{variant:"body2",sx:{mt:1,color:"info.main"},children:["💡 ",g.hint]})]})]}),jsxRuntimeExports.jsx(Paper,{elevation:3,sx:{mb:3,backgroundColor:"rgba(255, 255, 255, 0.9)"},children:jsxRuntimeExports.jsx(ReactCodeMirror,{value:M,height:"300px",extensions:[javascript$2()],onChange:L=>j(L),theme:"light"})}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[jsxRuntimeExports.jsx(Button,{variant:"contained",color:"primary",onClick:xe,disabled:W,sx:{minWidth:120},children:W?"実行中...":"実行"}),jsxRuntimeExports.jsx(Button,{variant:"outlined",color:"error",onClick:()=>Z(!0),sx:{minWidth:120},children:"リセット"})]}),Array.isArray(I)&&I.length>0&&jsxRuntimeExports.jsxs(Paper,{elevation:3,sx:{p:3,backgroundColor:"rgba(255, 255, 255, 0.9)"},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,children:"テスト結果"}),I.map((L,T)=>jsxRuntimeExports.jsx(Typography,{variant:"body1",paragraph:!0,color:L.success?"success.main":"error.main",children:L.message},T)),I.every(L=>L.success)&&n&&!((pe=n.completedChallenges)!=null&&pe.includes((g==null?void 0:g.id)||""))&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Typography,{variant:"h6",color:"success.main",children:["🎉 おめでとうございます！",g==null?void 0:g.points,"ポイント獲得しました！"]}),jsxRuntimeExports.jsxs(Typography,{variant:"body1",color:"success.main",children:["ボスに",de((g==null?void 0:g.points)||0),"ダメージを与えました！"]}),y[v].currentHp===0&&jsxRuntimeExports.jsxs(Typography,{variant:"h5",color:"success.main",sx:{mt:2},children:["🎊 ",y[v].name,"を倒しました！次の難易度に挑戦しましょう！"]})]})]}),jsxRuntimeExports.jsxs(Dialog,{open:U,onClose:()=>Z(!1),"aria-labelledby":"reset-dialog-title",children:[jsxRuntimeExports.jsx(DialogTitle,{id:"reset-dialog-title",children:"ゲームをリセットしますか？"}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(Box,{sx:{mb:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"body1",gutterBottom:!0,children:"リセットする範囲を選択してください："}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",gap:2,mt:1},children:[jsxRuntimeExports.jsx(Button,{variant:G==="all"?"contained":"outlined",onClick:()=>Q("all"),color:"primary",children:"全体リセット"}),jsxRuntimeExports.jsx(Button,{variant:G==="difficulty"?"contained":"outlined",onClick:()=>Q("difficulty"),color:"primary",children:"現在の難易度のみ"})]})]}),jsxRuntimeExports.jsxs(Typography,{color:"error",children:[G==="all"?"全ての進捗（レベル、経験値、全難易度のボスの状態など）が初期状態に戻ります。":`${v}難易度の進捗（チャレンジの完了状態、ボスの状態）のみが初期状態に戻ります。`,"この操作は取り消せません。"]})]}),jsxRuntimeExports.jsxs(DialogActions,{children:[jsxRuntimeExports.jsx(Button,{onClick:()=>Z(!1),color:"primary",children:"キャンセル"}),jsxRuntimeExports.jsx(Button,{onClick:ae,color:"error",variant:"contained",startIcon:G==="all"?"🔄":"📊",children:G==="all"?"全体リセット":`${v}難易度をリセット`})]})]}),jsxRuntimeExports.jsxs(Box,{sx:{mt:3},children:[jsxRuntimeExports.jsx(Typography,{variant:"h5",gutterBottom:!0,children:"学習サポート"}),g&&jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,children:a&&jsxRuntimeExports.jsxs(Accordion,{children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(default_1,{}),children:jsxRuntimeExports.jsx(Typography,{children:"コードの説明"})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsx(CodeExplanation,{explanation:a})})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,children:l&&jsxRuntimeExports.jsxs(Accordion,{children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(default_1,{}),children:jsxRuntimeExports.jsx(Typography,{children:"解答例"})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsx(SolutionExample,{solution:l})})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,children:d&&jsxRuntimeExports.jsxs(Accordion,{children:[jsxRuntimeExports.jsx(AccordionSummary,{expandIcon:jsxRuntimeExports.jsx(default_1,{}),children:jsxRuntimeExports.jsx(Typography,{children:"ヒントシステム"})}),jsxRuntimeExports.jsx(AccordionDetails,{children:jsxRuntimeExports.jsx(HintSystem,{hints:Array.isArray(d)?d:[],onUnlockHint:p})})]})})]})]})]})]})},PrivateRoute=({children:e})=>{const{user:t}=useAuth();return t?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})},App=()=>jsxRuntimeExports.jsx(ThemeProvider,{theme,children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(RegisterPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/game",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(ProgressProvider,{children:jsxRuntimeExports.jsx(LevelProvider,{children:jsxRuntimeExports.jsx(LearningProvider,{children:jsxRuntimeExports.jsx(GamePage,{})})})})})}),jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/game",replace:!0})})]})})})});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
//# sourceMappingURL=index-Yv8vidCt.js.map
